{"version":3,"sources":["components/Info/Info.module.css","components/RichText/RichText.module.css","lib/hooks/useAsyncReducer.ts","lib/helpers.ts","lib/apiService/parser/util.ts","lib/apiService/parser/projectParser.ts","lib/apiService/parser/infoBlockParser.ts","lib/apiService/parser/configParser.ts","lib/apiService/parser/siteContentParser.ts","lib/apiService/apiService.ts","store/store.ts","components/Navigation/Navigation.tsx","components/Curtain/Curtain.tsx","components/Logo/Logo.tsx","components/Button/Button.tsx","components/Image/Image.tsx","components/Projects/ProjectsItem/ProjectsItem.tsx","components/Projects/Projects.tsx","components/RichText/RichText.tsx","components/Info/InfoItem/InfoItem.tsx","components/Info/Info.tsx","components/PageBox/PageBox.tsx","components/Icons/CloseIcon.tsx","components/ProjectDetail/NavClose/NavClose.tsx","components/Icons/Arrows.tsx","components/ProjectDetail/NavSkip/NavSkip.tsx","components/ProjectDetail/ProjectDetail.tsx","components/Icons/AddIcon.tsx","App.tsx","index.tsx","components/ProjectDetail/ProjectDetail.module.css","components/ProjectDetail/NavSkip/NavSkip.module.css","components/Navigation/Navigation.module.css","components/Button/Button.module.css","components/Projects/ProjectsItem/ProjectsItem.module.css","components/PageBox/PageBox.module.css","components/ProjectDetail/NavClose/NavClose.module.css","components/Projects/Projects.module.css","components/Image/Image.module.css","App.module.css","components/Logo/Logo.module.css","components/Info/InfoItem/InfoItem.module.css","components/Curtain/Curtain.module.css"],"names":["module","exports","useAsyncReducer","reducer","initState","useReducer","state","dispatch","asyncDispatch","useMemo","action","Promise","then","wrapAsync","getImageRatio","config","ratio","Number","getStyleVariable","isObject","val","Array","isArray","isHexColor","test","isPortrait","window","innerWidth","innerHeight","screen","orientation","type","includes","isMobile","styleVariables","name","value","getComputedStyle","document","documentElement","getPropertyValue","numberFromPx","endsWith","slice","incrementIndex","list","index","increment","length","parseRichText","entry","hasOwnProperty","console","warn","parseImage","sys","fields","id","title","file","url","width","details","image","height","projectParser","item","project","createdAt","Date","toISOString","text","footnote","thumbnail","images","position","titel","fussnote","bilder","map","filter","infoBlockParser","infoBlock","richText","bild","configParser","enabled","documentTitle","animationTime","thumbnailSize","imageSize","palette","black","grey","lightgrey","white","configAktiv","websiteTitel","animationszeit","Math","min","max","maximaleThumbnailgre","maximaleBildgre","bildSeitenverhltnis","split","e","counter","denominator","isNaN","schwarz","grau","hellgrau","weiss","ItemIds","siteContentParser","raw","siteContent","projects","infoBlocks","items","Asset","forEach","contentType","parsedProject","unshift","parsedInfoBlock","parsedConfig","positioned","sort","a","b","sorted","getTime","splice","sortProjects","contentful","require","apiService","_client","this","createClient","space","accessToken","getEntries","response","getAsset","asset","ActionTypes","Pages","targetPage","selectedPage","selectedProjectId","payload","actions","getSiteContent","resolve","style","setProperty","setTarget","target","setPage","page","setProjectId","projectId","Navigation","isMobileNav","mobileNavIndex","children","className","cx","styles","mobileNav","spacer","Curtain","open","onOpen","onClose","left","closed","right","onTransitionEnd","Logo","Button","label","active","disabled","cta","stopPropagation","onClick","event","Image","round","imageRef","useRef","useState","src","setSrc","loaded","setLoaded","useEffect","getImageUrl","imageUrl","catch","err","timeoutId","setTimeout","imageLoadingTimeout","clearTimeout","ImageBox","opacity","ref","alt","onLoad","onError","ProjectsItem","callback","padding","getThumbnailWidth","prevWidth","titleWidth","Projects","centerLine","Sizes","L","M","S","Object","values","renderRichText","documentToReactComponents","RichText","size","current","node","aTags","getElementsByTagName","i","href","startsWith","setAttribute","addTargetBlankToRichText","largeSize","mediumSize","smallSize","InfoItem","Info","isTransitioning","setIsTransitioning","infoCurtainBox","isOpen","isClosed","onAnimationEnd","prevSelected","PageBox","selected","scroll","isTarget","isSelected","CloseIcon","String","fromCharCode","NavClose","numProjects","currentIndex","closeButton","ArrowLeft","ArrowRight","NavSkip","selectPrev","selectNext","skipButton","ProjectDetail","find","indexOf","prevIndex","nextIndex","getContentWidth","widthOverhead","textBoxTranslateX","textBoxWidth","imageBox","imageWidth","imageRatio","textBox","transform","AddIcon","App","triggerResize","resize","prevState","addEventListener","removeEventListener","isHome","ReactDOM","render","StrictMode","getElementById"],"mappings":"kHACAA,EAAOC,QAAU,CAAC,KAAO,mBAAmB,eAAiB,6BAA6B,gBAAkB,8BAA8B,SAAW,uBAAuB,MAAQ,oBAAoB,OAAS,qBAAqB,KAAO,qB,mBCA7OD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,UAAY,4BAA4B,WAAa,6BAA6B,UAAY,8B,oICoBvIC,MAPf,SAAyBC,EAAkBC,GAAmB,IAAD,EAC7BC,qBAAWF,EAASC,GADS,mBACjDE,EADiD,KAC1CC,EAD0C,KAIzD,MAAO,CAAED,QAAOE,cAFMC,mBAAQ,kBAXlC,SAAsBF,GAClB,OAAO,SAACG,GACJ,OAAIA,aAAkBC,QACXD,EAAOE,KAAKL,GAEhBA,EAASG,IAMgBG,CAAUN,KAAW,CAAEA,M,uBC2BxD,SAASO,EAAcC,GAC1B,OAAa,OAANA,QAAM,IAANA,OAAA,EAAAA,EAAQC,QAASC,OAAOC,EAAiB,0BAG7C,SAASC,EAASC,GACrB,OAAe,OAARA,GAA+B,oBAARA,GAAqC,kBAARA,IAAqBC,MAAMC,QAAQF,GAG3F,SAASG,EAAWH,GACvB,MAAO,kBAAkBI,KAAKJ,IAAQ,kBAAkBI,KAAKJ,GAG1D,SAASK,IACZ,IAAIA,EAAaC,OAAOC,WAAaD,OAAOE,YAC5C,GAAIT,EAASO,OAAOG,OAAOC,aAAc,CAAC,IAC9BC,EAASL,OAAOG,OAAOC,YAAvBC,KACRN,EAA6B,kBAATM,GAAqBA,EAAKC,SAAS,YAE3D,OAAOP,EAGJ,SAASQ,IACZ,OAAIR,IACOC,OAAOC,WAAa,IAExBD,OAAOC,WAAa,IAG/B,IAAMO,EAA4C,GAE3C,SAAShB,EAAiBiB,GAC7B,GAAID,EAAeC,GACf,OAAOD,EAAeC,GAE1B,IAAMC,EAAQV,OAAOW,iBAAiBC,SAASC,iBAAiBC,iBAAiBL,GAEjF,OADAD,EAAeC,GAAQC,EAChBA,EAGJ,SAASK,EAAaL,GACzB,OAAIA,EAAMM,SAAS,MACRzB,OAAOmB,EAAMO,MAAM,GAAI,IAE3B,EAGJ,SAASC,EAAeC,EAAkBC,EAAeC,GAC5D,OAAQF,EAAKG,OAASF,EAAQC,GAAaF,EAAKG,OCtF7C,SAASC,EAAcC,GAC1B,OACK/B,EAAS+B,IACNA,EAAMC,eAAe,YACrBD,EAAMC,eAAe,YAKtBD,GAHHE,QAAQC,KAAK,0BAA2BH,GACjC,MAKR,SAASI,EAAWJ,GAAgD,IAAD,QACtE,OACK/B,EAAS+B,IACN/B,EAAS+B,EAAMK,MACfpC,EAAS+B,EAAMM,QAKhB,CACHC,GAAIP,EAAMK,IAAIE,GACdC,MAAOR,EAAMM,OAAOE,MACpBC,KAAM,CACFC,IAAKzC,EAAS+B,EAAMM,OAAOG,MAAQT,EAAMM,OAAOG,KAAKC,IAAM,GAC3DC,MAAO1C,EAAQ,UAAC+B,EAAMM,OAAOG,YAAd,iBAAC,EAAmBG,eAApB,aAAC,EAA4BC,OAASb,EAAMM,OAAOG,KAAKG,QAAQC,MAAMF,MAAQ,EAC7FG,OAAQ7C,EAAQ,UAAC+B,EAAMM,OAAOG,YAAd,iBAAC,EAAmBG,eAApB,aAAC,EAA4BC,OAASb,EAAMM,OAAOG,KAAKG,QAAQC,MAAMC,OAAS,KATnGZ,QAAQC,KAAK,sBAAuBH,GAC7B,MC4BAe,MA7Cf,SAAuBC,GACnB,GAAK/C,EAAS+C,EAAKV,SAAYrC,EAAS+C,EAAKX,KAA7C,CAIA,IAAMY,EAAmB,CACrBV,GAAI,GACJW,WAAW,IAAIC,MAAOC,cACtBZ,MAAO,GACPa,KAAM,KACNC,SAAU,KACVC,UAAW,KACXC,OAAQ,GACRC,UAAW,UAEJT,EAAKX,IAAIE,YAAcU,EAAQV,KACtCU,EAAQV,GAAKS,EAAKX,IAAIE,WAEfS,EAAKX,IAAIa,mBAAqBD,EAAQC,YAC7CD,EAAQC,UAAYF,EAAKX,IAAIa,kBAEtBF,EAAKV,OAAOoB,eAAiBT,EAAQT,QAC5CS,EAAQT,MAAQQ,EAAKV,OAAOoB,OAEhC,IAAML,EAAOtB,EAAciB,EAAKV,OAAOe,MACnCA,IACAJ,EAAQI,KAAOA,GAEnB,IAAMC,EAAWvB,EAAciB,EAAKV,OAAOqB,UACvCL,IACAL,EAAQK,SAAWA,GAEvB,IAAMC,EAAYnB,EAAWY,EAAKV,OAAOiB,WAUzC,OATIA,IACAN,EAAQM,UAAYA,GAEpBpD,MAAMC,QAAQ4C,EAAKV,OAAOsB,UAC1BX,EAAQO,OAASR,EAAKV,OAAOsB,OAAOC,KAAI,SAAC7B,GAAD,OAA+BI,EAAWJ,MAAQ8B,QAAO,SAAC9B,GAAD,QAAiCA,aAE3HgB,EAAKV,OAAOmB,kBAAoBR,EAAQQ,WAC/CR,EAAQQ,SAAWT,EAAKV,OAAOmB,UAE5BR,EAxCHf,QAAQC,KAAK,uBAAwBa,ICmB9Be,MArBf,SAAyBf,GACrB,IAAK/C,EAAS+C,EAAKV,QAEf,OADAJ,QAAQC,KAAK,0BAA2Ba,GACjC,KAEX,IAAMgB,EAAuB,CACzBX,KAAM,KACNG,OAAQ,IAEZ,GAAIR,EAAKV,OAAOe,KAAM,CAClB,IAAMY,EAAWlC,EAAciB,EAAKV,OAAOe,MACvCY,IACAD,EAAUX,KAAOY,GAMzB,OAHI9D,MAAMC,QAAQ4C,EAAKV,OAAO4B,QAC1BF,EAAUR,OAASR,EAAKV,OAAO4B,KAAKL,KAAI,SAAC7B,GAAD,OAA+BI,EAAWJ,MAAQ8B,QAAO,SAAC9B,GAAD,QAAiCA,MAE/HgC,GC8CIG,MA3Df,SAAsBnB,GAClB,IAAMnD,EAAS,CACXuE,SAAS,EACTC,cAAe,GACfC,cAAe,EACfC,cAAe,EACfC,UAAW,EACX1E,MAAO,EACP2E,QAAS,CACLC,MAAO,OACPC,KAAM,OACNC,UAAW,UACXC,MAAO,SAGf,IAAK5E,EAAS+C,EAAKV,QAEf,OADAJ,QAAQC,KAAK,sBAAuBa,GAC7BnD,EAEX,IAAKmD,EAAKV,OAAOwC,YACb,OAAOjF,EAkBX,UAfWmD,EAAKV,OAAOwC,qBAAuBjF,EAAOuE,UACjDvE,EAAOuE,QAAUpB,EAAKV,OAAOwC,oBAEtB9B,EAAKV,OAAOyC,sBAAwBlF,EAAOwE,gBAClDxE,EAAOwE,cAAgBrB,EAAKV,OAAOyC,qBAE5B/B,EAAKV,OAAO0C,wBAA0BnF,EAAOyE,gBACpDzE,EAAOyE,cAAgBW,KAAKC,IArCX,EAqCiCD,KAAKE,IAtCtC,GAsC4DnC,EAAKV,OAAO0C,yBAElFhC,EAAKV,OAAO8C,8BAAgCvF,EAAO0E,gBAC1D1E,EAAO0E,cAAgBU,KAAKC,IAtCf,KAsCiCD,KAAKE,IAvCtC,IAuCwDnC,EAAKV,OAAO8C,+BAE1EpC,EAAKV,OAAO+C,yBAA2BxF,EAAO2E,YACrD3E,EAAO2E,UAAYS,KAAKC,IAzCX,KAyC6BD,KAAKE,IA1ClC,IA0CoDnC,EAAKV,OAAO+C,mBAElC,kBAApCrC,EAAKV,OAAOgD,oBAAkC,CAAC,IAAD,EACpBtC,EAAKV,OAAOgD,oBAAoBC,MAAM,KAAK1B,KAAI,SAAC2B,GAAD,OAAYzF,OAAOyF,MAD9C,mBAC7CC,EAD6C,KACpCC,EADoC,KAEhDC,MAAMF,IAAaE,MAAMD,KAC1B7F,EAAOC,MAAQmF,KAAKC,IA5CV,EA4C6BD,KAAKE,IA7ClC,EA6CqDM,EAAUC,KAejF,OAZIrF,EAAW2C,EAAKV,OAAOsD,WACvB/F,EAAO4E,QAAQC,MAAQ1B,EAAKV,OAAOsD,SAEnCvF,EAAW2C,EAAKV,OAAOuD,QACvBhG,EAAO4E,QAAQE,KAAO3B,EAAKV,OAAOuD,MAElCxF,EAAW2C,EAAKV,OAAOwD,YACvBjG,EAAO4E,QAAQG,UAAY5B,EAAKV,OAAOwD,UAEvCzF,EAAW2C,EAAKV,OAAOyD,SACvBlG,EAAO4E,QAAQI,MAAQ7B,EAAKV,OAAOyD,OAEhClG,GC3DLmG,EACO,UADPA,EAEU,YAFVA,EAGM,SA6DGC,MAzDf,SAA2BC,GACvB,IAAMC,EAA2B,CAC7BC,SAAU,GACVC,WAAY,GACZxG,OAAQ,MAGZ,OACKI,EAASiG,IACN/F,MAAMC,QAAQ8F,EAAII,QAClBrG,EAASiG,EAAIpF,WACbX,MAAMC,QAAQ8F,EAAIpF,SAASyF,QAMnCL,EAAII,MAAME,SAAQ,SAAAxD,GAAS,IAAD,MACtB,GAAK/C,EAAS+C,GAId,iBAAOA,EAAKX,WAAZ,iBAAO,EAAUoE,mBAAjB,iBAAO,EAAuBpE,WAA9B,aAAO,EAA4BE,IAC/B,KAAKyD,EACD,IAAMU,EAAgB3D,EAAcC,GACpC,IAAK0D,EACD,MAEJP,EAAYC,SAASO,QAAQD,GAC7B,MACJ,KAAKV,EACD,IAAMY,EAAkB7C,EAAgBf,GACxC,IAAK4D,EACD,MAEJT,EAAYE,WAAWM,QAAQC,GAC/B,MACJ,KAAKZ,EACD,GAAIG,EAAYtG,OACZ,MAEJ,IAAMgH,EAAe1C,EAAanB,GAClC,IAAK6D,EACD,MAEJV,EAAYtG,OAASgH,EACrB,MACJ,QACI3E,QAAQC,KAAK,oBAAqBa,QA7BtCd,QAAQC,KAAK,eAAgBa,MAiCrCmD,EAAYC,SJ/BT,SAAsBA,GACzB,IAAMU,EAAaV,EACdtC,QAAO,SAACb,GAAD,OAAsBA,EAAQQ,UAAY,KACjDsD,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAEvD,SAAWwD,EAAExD,YAE7ByD,EAASd,EACVtC,QAAO,SAACb,GAAD,OAAsBA,EAAQQ,WAAa,KAClDsD,MAAK,SAACC,EAAGC,GACN,OAAO,IAAI9D,KAAK8D,EAAE/D,WAAWiE,UAAY,IAAIhE,KAAK6D,EAAE9D,WAAWiE,aAKvE,OAFAL,EAAWN,SAAQ,SAACvD,GAAD,OAAsBiE,EAAOE,OAAOnC,KAAKE,IAAIlC,EAAQQ,SAAW,EAAG,GAAI,EAAGR,MAEtFiE,EIkBgBG,CAAalB,EAAYC,UAEzCD,IAzCHjE,QAAQC,KAAK,mBAAoB+D,GAC1BC,ICzBTmB,EAAaC,EAAQ,IA2BdC,EAAa,I,WAlBtB,aAAe,yBAFfC,aAEc,EACVC,KAAKD,QAAUH,EAAWK,aAAa,CACnCC,MATE,eAUFC,YATQ,gD,kDAahB,WACI,OAAOH,KAAKD,QAAQK,aACfpI,MAAK,SAACqI,GAAD,OAAoC9B,EAAkB8B,Q,yBAGpE,YAAoG,IAAtFxF,EAAqF,EAArFA,GAAII,EAAiF,EAAjFA,MAAOG,EAA0E,EAA1EA,OACrB,OAAO4E,KAAKD,QAAQO,SAASzF,GACxB7C,MAAK,SAAAuI,GAAK,gBAAOA,EAAM3F,OAAOG,KAAKC,IAAzB,uBAA2CC,EAA3C,cAAsDG,U,MCpBhEoF,EACS,mBADTA,EAEG,aAFHA,EAGC,WAHDA,EAIO,iBAGPC,EACH,OADGA,EAEC,WAFDA,EAGO,iBAHPA,EAIH,OAMGjJ,EAAY,CACrBiH,YAAa,CACTC,SAAU,GACVC,WAAY,GACZxG,OAAQ,MAEZuI,WAAYD,EACZE,aAAcF,EACdG,kBAAmB,IAMhB,SAASrJ,EAAQG,EAAcI,GAClC,OAAQA,EAAOqB,MACX,KAAKqH,EACD,OAAO,2BAAK9I,GAAZ,IAAmB+G,YAAa3G,EAAO+I,UAC3C,KAAKL,EACD,OAAO,2BAAK9I,GAAZ,IAAmBgJ,WAAY5I,EAAO+I,UAC1C,KAAKL,EACD,OAAO,2BAAK9I,GAAZ,IAAmBiJ,aAAc7I,EAAO+I,UAC5C,KAAKL,EACD,OAAO,2BAAK9I,GAAZ,IAAmBkJ,kBAAmB9I,EAAO+I,UACjD,QACI,OAAOnJ,GA6BZ,IAAMoJ,EAAmB,CAC5BC,eAvBJ,WACI,OAAO,IAAIhJ,SAAQ,SAAAiJ,GACflB,EAAWiB,iBACN/I,MAAK,SAAAyG,GPzDX,IAA+BtG,KO0DAsG,EAAYtG,QPxDlCuE,UAIZhD,SAASoB,MAAQ3C,EAAOwE,cAExBjD,SAASC,gBAAgBsH,MAAMC,YAAY,UAAW/I,EAAO4E,QAAQC,OAErEtD,SAASC,gBAAgBsH,MAAMC,YAAY,SAAU/I,EAAO4E,QAAQE,MAEpEvD,SAASC,gBAAgBsH,MAAMC,YAAY,cAAe/I,EAAO4E,QAAQG,WAEzExD,SAASC,gBAAgBsH,MAAMC,YAAY,UAAW/I,EAAO4E,QAAQI,OAErEzD,SAASC,gBAAgBsH,MAAMC,YAAY,mBAA3C,UAAkE/I,EAAOyE,cAAzE,OO2CYoE,EAAQ,CAAE7H,KAAMqH,EAA8BK,QAASpC,WAmBnE0C,UAdJ,SAAmBC,GACf,MAAO,CAAEjI,KAAMqH,EAAwBK,QAASO,IAchDC,QAXJ,SAAiBC,GACb,MAAO,CAAEnI,KAAMqH,EAAsBK,QAASS,IAW9CC,aARJ,SAAsBC,GAClB,MAAO,CAAErI,KAAMqH,EAA4BK,QAASW,K,wBC5CzCC,MArBf,YAAmG,IAA7EC,EAA4E,EAA5EA,YAA4E,IAA/DC,sBAA+D,OAA7C,EAA6C,EAA1CC,EAA0C,EAA1CA,SAKpD,OAJID,GAAkB,GAAKlJ,MAAMC,QAAQkJ,KACrCA,EAAWA,EAAS7H,MAAM4H,EAAgBA,EAAiB,IAI3D,qCACI,qBACIE,UAAWC,IAAGC,IAAON,WAAR,eACRM,IAAOC,UAAYN,IAF5B,SAKKE,IAEJF,GACG,qBAAKG,UAAWE,IAAOE,a,gBCiBxBC,OAhCf,YAAwE,IAAD,IAApDC,EAAoD,EAApDA,KAAMC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,QAC7B,OACI,qCACI,qBACIR,UAAWC,IAAG,GAAD,OAAIC,IAAOG,QAAX,YAAsBH,IAAOO,OAA7B,mBACRP,IAAOI,KAAOA,GADN,cAERJ,IAAOQ,QAAUJ,GAFT,MAKjB,qBACIN,UAAWC,IAAG,GAAD,OAAIC,IAAOG,QAAX,YAAsBH,IAAOS,QAA7B,mBACRT,IAAOI,KAAOA,GADN,cAERJ,IAAOQ,QAAUJ,GAFT,IAIbM,gBAAiB,WACb,GAAIN,EAAM,CACN,GAAsB,oBAAXC,EACP,OAEJA,QACG,CACH,GAAuB,oBAAZC,EACP,OAEJA,Y,oBCnBTK,OARf,YAAqD,IAArCd,EAAoC,EAApCA,SACZ,OACI,qBAAKC,UAAWE,KAAOW,KAAvB,SACKd,K,oBC0BEe,OAvBf,YAA8G,IAAD,EAA3FC,EAA2F,EAA3FA,MAAOC,EAAoF,EAApFA,OAAQC,EAA4E,EAA5EA,SAAUC,EAAkE,EAAlEA,IAAKC,EAA6D,EAA7DA,gBAA6D,IAA5CnB,iBAA4C,MAAhC,GAAgC,EACzG,OACI,wBACIA,UAAWC,IAAGC,KAAOY,QAAR,mBACRd,EAAYA,GADJ,cAERE,KAAOc,OAASA,GAFR,cAGRd,KAAOe,SAAWA,GAHV,IAKbG,QAAS,SAAAC,GACDF,GACAE,EAAMF,kBAENF,GAA2B,oBAARC,GAGvBA,KAbR,SAgBKH,K,4DCqBEO,OAvCf,YAA4E,IAA3DlI,EAA0D,EAA1DA,MAAO7C,EAAmD,EAAnDA,MAAOyC,EAA4C,EAA5CA,GAAIC,EAAwC,EAAxCA,MAAOC,EAAiC,EAAjCA,KAChCK,EAASmC,KAAK6F,MAAMnI,EAAQ7C,GAE5BiL,EAAWC,iBAAO,MAH+C,EAK/CC,mBAAS,IALsC,mBAK/DC,EAL+D,KAK1DC,EAL0D,OAMzCF,oBAAS,GANgC,mBAM/DG,EAN+D,KAMvDC,EANuD,KAmBvE,OAXAC,qBAAU,WACN9D,EAAW+D,YAAY,CAAEhJ,KAAII,QAAOG,WAC/BpD,MAAK,SAAA8L,GAAQ,OAAIL,EAAOK,MACxBC,OAAM,SAAAC,GACHxJ,QAAQC,KAAK,eAAgBuJ,GAC7BP,EAAO1I,EAAKC,QAEpB,IAAMiJ,EAAYC,YAAW,kBAAMP,GAAU,KAAOQ,KACpD,OAAO,kBAAMC,aAAaH,MAC3B,CAAEpJ,EAAII,EAAOG,EAAQL,EAAKC,MAGzB,qBACI6G,UAAWE,KAAOsC,SAClBpD,MAAO,CAAEhG,MAAM,GAAD,OAAKA,EAAL,MAAgBG,OAAO,GAAD,OAAKA,EAAL,OAFxC,SAIKoI,GACG,qBACI3B,UAAWE,KAAOoB,MAClBlC,MAAO,CAAEqD,QAASZ,EAAS,EAAI,GAC/Ba,IAAKlB,EACLG,IAAKA,EACLgB,IAAK1J,EACL2J,OAAQ,kBAAMd,GAAU,IACxBe,QAAS,kBAAMjB,EAAO1I,EAAKC,WCiBhC2J,OAjDf,YAAmF,IAA3DrJ,EAA0D,EAA1DA,KAAMnD,EAAoD,EAApDA,OAAQyM,EAA4C,EAA5CA,SAClC,IAAKtJ,EAAKO,UACN,OACI,qBAAKgG,UAAWE,KAAO4C,aAAvB,0BAIR,IAAME,EAAUhL,EAAavB,EAAiB,qBAC1C2C,EbAD,SAA2B9C,GAC9B,IAAI8C,EAAQsC,KAAK6F,MAAM7F,KAAKC,KACjB,OAANrF,QAAM,IAANA,OAAA,EAAAA,EAAQ0E,gBAAiBhD,EAAavB,EAAiB,8BACvDQ,OAAOC,WAAa,IAKzB,OAHIM,KAAcR,MACdoC,EAAQnC,OAAOC,WAAc,EAAIc,EAAavB,EAAiB,sBAE5D2C,EaRK6J,CAAkB3M,GAC1BC,EAAQF,EAAcC,GAO1B,GALImD,EAAKO,UAAUd,KAAKE,QAAUK,EAAKO,UAAUd,KAAKK,SAClDH,EAAQsC,KAAK6F,MAAMnI,EAAQ7C,GAC3BA,EAAQ,GAGRkD,EAAKO,UAAUd,KAAKE,MAAQK,EAAKO,UAAUd,KAAKK,OAAQ,CACxD,IAAM2J,EAAY9J,EAGlB7C,GADA6C,EAAQsC,KAAK6F,MAAMnI,EAAQ7C,KACV2M,EAAa,EAAIF,GAGtC,IAAIG,EAAa/J,EAMjB,OAJK5B,KAAcP,OAAOC,WAAe,EAAIkC,EAAU,EAAI4J,IACvDG,GAAelM,OAAOC,WAAakC,GAAS,EAAM,EAAI4J,GAItD,sBACIhD,UAAWE,KAAO4C,aAClB1B,QAAS,kBAAM2B,KAFnB,UAII,cAAC,GAAD,aACI3J,MAAOA,EACP7C,MAAOA,GACHkD,EAAKO,YAEb,oBACIgG,UAAWE,KAAOjH,MAClBmG,MAAO,CAAEhG,MAAM,GAAD,OAAK+J,EAAL,OAFlB,SAIK1J,EAAKR,YC5BPmK,OAhBf,YAAgF,IAA5DrG,EAA2D,EAA3DA,MAAOzG,EAAoD,EAApDA,OAAQoJ,EAA4C,EAA5CA,aAC/B,OACI,sBAAKM,UAAWE,KAAOkD,SAAvB,UACI,qBAAKpD,UAAWE,KAAOmD,aACtBtG,EAAMzC,KAAI,SAACb,EAAMpB,GAAP,OACP,cAAC,GAAD,CAEIoB,KAAMA,EACNnD,OAAQA,EACRyM,SAAU,kBAAMrD,EAAajG,EAAKT,MAH7BX,U,qECXnBiL,GAAQ,CACVC,EAAG,IACHC,EAAG,IACHC,EAAG,KAGMC,OAAOC,OAAOL,IAO3B,SAASM,GAAenL,GAEpB,OAAOoL,qCAA0BpL,GA6BtBqL,OAzBf,YAAgE,IAAD,EAA3CrL,EAA2C,EAA3CA,MAAOsL,EAAoC,EAApCA,KACjBrB,EAAMjB,iBAAO,MAUnB,OARAM,qBAAU,WACDW,EAAIsB,Sf+DV,SAAkCC,GAErC,IADA,IAAMC,EAAQD,EAAKE,qBAAqB,KAC/BC,EAAI,EAAGA,EAAIF,EAAM3L,OAAQ6L,IAC1BF,EAAME,GAAGC,MAAQH,EAAME,GAAGC,KAAKC,WAAW,SAC1CJ,EAAME,GAAGG,aAAa,SAAU,Ue/DpCC,CAAyB9B,EAAIsB,WAC9B,CAAEvL,IAGD,qBACIiK,IAAKA,EACL1C,UAAWC,IAAGC,KAAO4D,UAAR,mBACR5D,KAAOuE,UAAYV,IAAST,GAAMC,GAD1B,cAERrD,KAAOwE,WAAaX,IAAST,GAAME,GAF3B,cAGRtD,KAAOyE,UAAYZ,IAAST,GAAMG,GAH1B,IAFjB,SAQKG,GAAenL,MCfbmM,OAnBf,YAAgE,IAA5CnL,EAA2C,EAA3CA,KAAML,EAAqC,EAArCA,MAChB4J,EAAUxL,IACVQ,EAAavB,EAAiB,qBAC9BuB,EAAavB,EAAiB,oBACpC,OACI,sBACIuJ,UAAWE,KAAO0E,SAClBxF,MAAO,CAAEhG,MAAM,GAAD,OAAKA,EAAL,OAFlB,YAIOK,EAAKQ,OAAO1B,QACX,cAAC,GAAD,aAAOa,MAAOA,EAAS,EAAI4J,EAAUzM,MAAO,KAASkD,EAAKQ,OAAO,KAEpER,EAAKK,MACF,cAAC,GAAD,CAAUrB,MAAOgB,EAAKK,KAAMiK,KAAK,UC2ClCc,OAnDf,YAAiF,IAAD,EAAhE9H,EAAgE,EAAhEA,MAAOzG,EAAyD,EAAzDA,OAAQgK,EAAiD,EAAjDA,KAAMC,EAA2C,EAA3CA,OAAQC,EAAmC,EAAnCA,QAAmC,EAC5BkB,oBAAS,GADmB,mBACpEoD,EADoE,KACnDC,EADmD,KAG5EhD,qBAAU,kBAAMgD,GAAmB,KAAO,CAAEzE,IAE5C,IAAIlH,EAAQsC,KAAK6F,MAAM7F,KAAKC,KACjB,OAANrF,QAAM,IAANA,OAAA,EAAAA,EAAQ2E,YAAajD,EAAavB,EAAiB,4BACnDQ,OAAOC,WAAa,IAMzB,OAJIM,KAAcR,MACdoC,EAAQnC,OAAOC,YAIf,qBACI8I,UAAWE,KAAO2E,KAClBzF,MAAO,CAAEhG,MAAM,GAAD,OAAKA,EAAL,OAFlB,SAII,qBACI4G,UAAWC,IAAGC,KAAO8E,gBAAR,mBACR9E,KAAO4E,gBAAkBA,GADjB,cAER5E,KAAO+E,OAAS3E,GAFR,cAGRJ,KAAOgF,UAAY5E,GAHX,IAKb6E,eAAgB,WAEZ,GADAJ,GAAmB,GACfzE,EAAM,CACN,GAAsB,oBAAXC,EACP,OAEJA,QACG,CACH,GAAuB,oBAAZC,EACP,OAEJA,MAjBZ,SAqBKzD,EAAMzC,KAAI,SAACb,EAAMpB,GAAP,OACP,cAAC,GAAD,CAEIoB,KAAMA,EACNL,MAAOA,GAFFf,W,oBC/CzB+M,GAA8B,GAqBnBC,OAlBf,YAAmF,IAAD,EAA/D5F,EAA+D,EAA/DA,KAAMF,EAAyD,EAAzDA,OAAQ+F,EAAiD,EAAjDA,SAAUvF,EAAuC,EAAvCA,SAMvC,OALIqF,KAAiBE,IACjBrO,OAAOsO,OAAO,EAAG,GACjBH,GAAeE,GAIf,qBACItF,UAAWC,IAAGC,KAAOmF,SAAR,mBACRnF,KAAOsF,SAAW/F,IAASF,GADnB,cAERW,KAAOuF,WAAahG,IAAS6F,GAFrB,IADjB,SAMKvF,K,wCCrBE2F,OANf,WACI,OACI,+BAAOC,OAAOC,aAAa,UC8BpBC,OApBf,YAAuF,IAAnErF,EAAkE,EAAlEA,QAASsF,EAAyD,EAAzDA,YAAaC,EAA4C,EAA5CA,aACtC,OACI,sBAAK/F,UAAWE,KAAO2F,SAAvB,WACMrO,KAAqC,kBAAhBsO,GAAoD,kBAAjBC,GACtD,qBAAK/F,UAAWE,KAAOhE,QAAvB,SACI,cAAC,GAAD,CACI6E,MAAK,UAAKgF,EAAe,EAApB,YAAyBD,GAC9B7E,UAAQ,MAIpB,cAAC,GAAD,CACIjB,UAAWE,KAAO8F,YAClBjF,MAAO,cAAC,GAAD,IACPG,IAAK,kBAAMV,W,oBC1BpB,SAASyF,KACZ,OACI,0CAID,SAASC,KACZ,OACI,0CCmBOC,OAjBf,YAAyE,IAAtDC,EAAqD,EAArDA,WAAYC,EAAyC,EAAzCA,WAC3B,OACI,sBAAKrG,UAAWE,KAAOiG,QAAvB,UACI,cAAC,GAAD,CACInG,UAAS,UAAKE,KAAOoG,WAAZ,YAA0BpG,KAAOkG,YAC1CrF,MAAO,cAACkF,GAAD,IACP/E,IAAKkF,IAET,cAAC,GAAD,CACIpG,UAAWE,KAAOoG,WAClBvF,MAAO,cAACmF,GAAD,IACPhF,IAAKmF,QC4ENE,OA9Ef,YAAyH,IAAhGxH,EAA+F,EAA/FA,kBAAmBlC,EAA4E,EAA5EA,SAAUvG,EAAkE,EAAlEA,OAAQoJ,EAA0D,EAA1DA,aAAcc,EAA4C,EAA5CA,QAClE9G,EAAUmD,EAAS2J,MAAK,SAAC9M,GAAD,OAAkBA,EAAQV,KAAO+F,KAE/D,IAAKrF,EACD,OACI,6CAIR,IAAMrB,EAAQwE,EAAS4J,QAAQ/M,GACzBgN,EAAYvO,EAAe0E,EAAUxE,GAAQ,GAC7CsO,EAAYxO,EAAe0E,EAAUxE,EAAO,GAE5Ce,EvBAH,SAAyB9C,GAC5B,IAAI8C,EAAQsC,KAAK6F,MAAM7F,KAAKC,KACjB,OAANrF,QAAM,IAANA,OAAA,EAAAA,EAAQ2E,YAAajD,EAAavB,EAAiB,4BACnDQ,OAAOC,WAAa,IAKzB,OAHIM,KAAcR,MACdoC,EAAQnC,OAAOC,WAAc,EAAIc,EAAavB,EAAiB,sBAE5D2C,EuBROwN,CAAgBtQ,GACxBC,EAAQF,EAAcC,GAEtB0M,EAAUhL,EAAavB,EAAiB,oBACxCoQ,EAAiB5P,OAAOC,WAAa,EAAKkC,EAC1C0N,EAAqB1N,EAAQ,EAAK4J,EACpC+D,EAAe3N,EAAQ,EAM3B,OAJIyN,EAAiB,EAAI7D,IACrB+D,GAAkB,EAAI/D,EAAW6D,GAIjC,sBAAK7G,UAAWE,KAAOqG,cAAvB,UACI,qBAAKvG,UAAWE,KAAO8G,SAAvB,SACKtN,EAAQO,OAAOK,KAAI,SAAChB,EAAOjB,GACxB,IAAI4O,EAAa7N,EACb8N,EAAa3Q,EASjB,OARI+C,EAAMJ,KAAKE,QAAUE,EAAMJ,KAAKK,SAChC0N,EAAavL,KAAK6F,MAAMnI,EAAQ7C,GAChC2Q,EAAa,GAEb5N,EAAMJ,KAAKE,MAAQE,EAAMJ,KAAKK,SAC9B2N,EAAa,EAAI3Q,EACjB0Q,EAAavL,KAAK6F,MAAMnI,EAAQ8N,EAAaA,IAG7C,cAAC,GAAD,CAAmB9N,MAAO6N,EAAY1Q,MAAO2Q,EAAYlO,GAAIM,EAAMN,GAAIC,MAAOK,EAAML,MAAOC,KAAMI,EAAMJ,MAA3Fb,QAKxB,sBACI2H,UAAWE,KAAOiH,QAClB/H,MAAO5H,IACDR,IAAe,GAAK,CAAEoC,MAAM,GAAD,OAAKA,EAAL,MAAgBc,SAAU,WAAYuG,KAAM,MAAO2G,UAAW,oBACzF,CAAEhO,MAAM,GAAD,OAAK2N,EAAL,MAAuBK,UAAU,cAAD,OAAgBN,EAAhB,QAJjD,UAOI,6BAAKpN,EAAQT,QACb,cAAC,GAAD,CAAUR,MAAOiB,EAAQI,KAA8BiK,KAAK,MAC5D,cAAC,GAAD,CAAUtL,MAAOiB,EAAQK,SAAkCgK,KAAK,MAChE,qBAAK/D,UAAWE,KAAO7B,WAG3B,cAAC,GAAD,CACI+H,WAAY,WACR1G,EAAa7C,EAAS6J,GAAW1N,IACjC/B,OAAOsO,OAAO,EAAG,IAErBc,WAAY,WACR3G,EAAa7C,EAAS8J,GAAW3N,IACjC/B,OAAOsO,OAAO,EAAG,MAIzB,cAAC,GAAD,CACI/E,QAASA,EACTsF,YAAajJ,EAAStE,OACtBwN,aAAc1N,QChFfgP,OARf,WACI,OACI,qBAAKjI,MAAO,CAAEgI,UAAW,6BAAzB,SACI,cAAC,GAAD,OCoGGE,OAvFf,WAA6B,IAAD,IACS7R,EAAgBC,EAASC,GAAlDE,EADgB,EAChBA,MAAOE,EADS,EACTA,cACP6G,EAA6D/G,EAA7D+G,YAAaiC,EAAgDhJ,EAAhDgJ,WAAYC,EAAoCjJ,EAApCiJ,aAAcC,EAAsBlJ,EAAtBkJ,kBAFvB,EAII2C,oBAAS,GAA3B6F,EAJc,oBAMxBxF,qBAAU,WACN,IAAMyF,EAAS,kBAAMD,GAAc,SAAAE,GAAS,OAAKA,MAEjD,OADAxQ,OAAOyQ,iBAAiB,SAAUF,GAC3B,kBAAMvQ,OAAO0Q,oBAAoB,SAAUH,MACnD,IAEHzF,qBAAU,kBAAMhM,EAAckJ,EAAQC,oBAAmB,CAAEnJ,IAE3D,IAAM8J,GAAehB,IAAeD,GAAcE,IAAiBF,IAAepH,IAElF,OACI,sBAAKwI,UAAWC,IAAG,GAAD,eAAQC,IAAO0H,OAAS9I,IAAiBF,IAA3D,UACI,cAAC,GAAD,CACI0B,KAAMzB,IAAeD,EACrB2B,OAAQ,kBAAMxK,EAAckJ,EAAQO,QAAQX,KAC5C2B,QAAS,kBAAMzK,EAAckJ,EAAQO,QAAQZ,OAGjD,eAAC,EAAD,CACIiB,YAAaA,EACbC,eAAgBD,EAAehB,IAAeD,EAAa,EAAI,EAAMC,IAAeD,EAAuB,GAAK,EAFpH,UAII,cAAC,GAAD,CACImC,MAAOlB,EAAc,cAAC,GAAD,IAAe,SACpCmB,OAAQnC,IAAeD,EACvBqC,UAAWrE,EAAYC,SAAStE,OAChC2I,IAAK,kBAAMnL,EAAckJ,EAAQK,UAAUV,OAE/C,cAAC,GAAD,CACImC,MAAOlB,EAAc,cAAC,GAAD,IAAa,iBAClCmB,OAAQnC,IAAeD,EACvBqC,UAAWrE,EAAYE,WAAWvE,OAClC2I,IAAK,kBAAMnL,EAAckJ,EAAQK,UAAUV,UAInD,cAAC,GAAD,UACI,cAAC,GAAD,CACImC,OAAO,UAAAnE,EAAYtG,cAAZ,eAAoBwE,eAAgB8B,EAAYtG,OAAOwE,cAAgB,qBAC9EoG,IAAK,kBAAMnL,EAAckJ,EAAQK,UAAUV,SAInD,cAAC,GAAD,CAASa,KAAMb,EAAgBW,OAAQV,EAAYyG,SAAUxG,EAA7D,SACI,cAAC,GAAD,CACI/B,MAAOH,EAAYC,SACnBvG,OAAQsG,EAAYtG,OACpBoJ,aAAc,SAAAC,GACV5J,EAAckJ,EAAQS,aAAaC,IACnC5J,EAAckJ,EAAQK,UAAUV,IAChC7I,EAAckJ,EAAQO,QAAQZ,SAKzCE,IAAiBF,GACd,cAAC,GAAD,CACIG,kBAAmBA,EACnBlC,SAAUD,EAAYC,SACtBvG,OAAQsG,EAAYtG,OACpBoJ,aAAc,SAAAC,GAAS,OAAI5J,EAAckJ,EAAQS,aAAaC,KAC9Da,QAAS,WACLzK,EAAckJ,EAAQK,UAAUV,IAChC7I,EAAckJ,EAAQO,QAAQZ,OAK1C,cAAC,GAAD,CAASa,KAAMb,EAAYW,OAAQV,EAAYyG,SAAUxG,EAAzD,SACI,cAAC,GAAD,CACI/B,MAAOH,EAAYE,WACnBxG,OAAQsG,EAAYtG,OACpBgK,KAAMzB,IAAeD,EACrB2B,OAAQ,kBAAMxK,EAAckJ,EAAQO,QAAQZ,KAC5C4B,QAAS,kBAAMzK,EAAckJ,EAAQO,QAAQX,aC7FjEgJ,IAASC,OACL,cAAC,IAAMC,WAAP,UACI,cAAC,GAAD,MAEJlQ,SAASmQ,eAAe,U,mBCT5BzS,EAAOC,QAAU,CAAC,cAAgB,qCAAqC,UAAU,+BAA+B,SAAW,gCAAgC,QAAU,+BAA+B,MAAQ,+B,mBCA5MD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,WAAa,4BAA4B,WAAa,8B,mBCA3GD,EAAOC,QAAU,CAAC,WAAa,+BAA+B,UAAY,8BAA8B,OAAS,6B,mBCAjHD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,OAAS,uBAAuB,SAAW,2B,mBCA7FD,EAAOC,QAAU,CAAC,aAAe,mCAAmC,MAAQ,8B,mBCA5ED,EAAOC,QAAU,CAAC,QAAU,yBAAyB,SAAW,0BAA0B,WAAa,8B,mBCAvGD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,QAAU,0BAA0B,YAAc,gC,sCCA1GD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,WAAa,+B,mBCArED,EAAOC,QAAU,CAAC,SAAW,wBAAwB,MAAQ,uB,mBCA7DD,EAAOC,QAAU,CAAC,OAAS,sB,mBCA3BD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,OAAS,uB,mBCArDD,EAAOC,QAAU,CAAC,SAAW,6B,0DCA7BD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,KAAO,sBAAsB,MAAQ,uBAAuB,KAAO,sBAAsB,OAAS,2B","file":"static/js/main.a271bc6f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Info\":\"Info_Info__3WoRg\",\"infoCurtainBox\":\"Info_infoCurtainBox__4DhQN\",\"isTransitioning\":\"Info_isTransitioning__1fRnE\",\"isClosed\":\"Info_isClosed__30Tas\",\"close\":\"Info_close__3kAyz\",\"isOpen\":\"Info_isOpen__3spwN\",\"open\":\"Info_open__SO0W7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"RichText\":\"RichText_RichText__1BywL\",\"largeSize\":\"RichText_largeSize__S8ve5\",\"mediumSize\":\"RichText_mediumSize__1Xnal\",\"smallSize\":\"RichText_smallSize__BL3Kk\"};","import { State, Reducer } from '../../store';\nimport { Dispatch, useMemo, useReducer } from 'react';\n\nexport type AsyncDispatch<T> = Dispatch<T | Promise<T>>\n\nfunction wrapAsync<T>(dispatch: Dispatch<T>): AsyncDispatch<T> {\n    return (action: T | Promise<T>) => {\n        if (action instanceof Promise) {\n            return action.then(dispatch);\n        }\n        return dispatch(action);\n    };\n}\n\nfunction useAsyncReducer(reducer: Reducer, initState: State) {\n    const [ state, dispatch ] = useReducer(reducer, initState);\n    const asyncDispatch = useMemo(() => wrapAsync(dispatch), [ dispatch] );\n\n    return { state, asyncDispatch };\n}\n\nexport default useAsyncReducer;\n","import { Config } from './apiService';\n\nexport function applyStylesFromConfig(config: Config): void {\n    // @ts-ignore\n    if (!config.enabled) {\n        return;\n    }\n    // @ts-ignore\n    document.title = config.documentTitle;\n    // @ts-ignore\n    document.documentElement.style.setProperty('--black', config.palette.black);\n    // @ts-ignore\n    document.documentElement.style.setProperty('--grey', config.palette.grey);\n    // @ts-ignore\n    document.documentElement.style.setProperty('--lightgrey', config.palette.lightgrey);\n    // @ts-ignore\n    document.documentElement.style.setProperty('--white', config.palette.white);\n    // @ts-ignore\n    document.documentElement.style.setProperty('--animation-time', `${config.animationTime}s`);\n}\n\nexport function getThumbnailWidth(config: Config): number {\n    let width = Math.round(Math.min(\n        (config?.thumbnailSize || numberFromPx(getStyleVariable('--default-thumbnail-width'))),\n        (window.innerWidth / 2))\n    );\n    if (isMobile() && isPortrait()) {\n        width = window.innerWidth - (2 * numberFromPx(getStyleVariable('--padding-medium')));\n    }\n    return width;\n}\n\nexport function getContentWidth(config: Config): number {\n    let width = Math.round(Math.min(\n        (config?.imageSize || numberFromPx(getStyleVariable('--default-content-width'))),\n        (window.innerWidth / 2))\n    );\n    if (isMobile() && isPortrait()) {\n        width = window.innerWidth - (2 * numberFromPx(getStyleVariable('--padding-medium')));\n    }\n    return width;\n}\n\nexport function getImageRatio(config: Config) {\n    return config?.ratio || Number(getStyleVariable('--default-image-ratio'));\n}\n\nexport function isObject(val: any): Boolean {\n    return val !== null && typeof val !== 'function' && typeof val === 'object' && !Array.isArray(val);\n}\n\nexport function isHexColor(val: any): Boolean {\n    return /#[0-9A-Fa-f]{3}/.test(val) || /#[0-9A-Fa-f]{6}/.test(val);\n}\n\nexport function isPortrait(): boolean {\n    let isPortrait = window.innerWidth < window.innerHeight;\n    if (isObject(window.screen.orientation)) {\n        const { type } = window.screen.orientation;\n        isPortrait = typeof type === 'string' && type.includes('portrait');\n    }\n    return isPortrait;\n}\n\nexport function isMobile(): boolean {\n    if (isPortrait()) {\n        return window.innerWidth < 620;\n    }\n    return window.innerWidth < 820;\n}\n\nconst styleVariables: { [key: string]: string } = {};\n\nexport function getStyleVariable(name: string): string {\n    if (styleVariables[name]) {\n        return styleVariables[name];\n    }\n    const value = window.getComputedStyle(document.documentElement).getPropertyValue(name);\n    styleVariables[name] = value;\n    return value;\n}\n\nexport function numberFromPx(value: string): number {\n    if (value.endsWith('px')) {\n        return Number(value.slice(0, -2));\n    }\n    return 0;\n}\n\nexport function incrementIndex(list: Array<any>, index: number, increment: number): number {\n    return (list.length + index + increment) % list.length;\n}\n\nexport function addTargetBlankToRichText(node: HTMLDivElement): void {\n    const aTags = node.getElementsByTagName('a');\n    for (let i = 0; i < aTags.length; i++) {\n        if (aTags[i].href && aTags[i].href.startsWith('http')) {\n            aTags[i].setAttribute('target', '_blank');\n        }\n    }\n}","import { ParsedImage, Project } from '../index';\nimport { isObject } from '../../helpers';\nimport { EntryFields } from 'contentful';\n\nexport function parseRichText(entry: EntryFields.Object): EntryFields.RichText | null {\n    if (\n        !isObject(entry)\n        || !entry.hasOwnProperty('content')\n        || !entry.hasOwnProperty('nodeType')\n    ) {\n        console.warn('unknown rich text entry', entry);\n        return null;\n    }\n    return entry;\n}\n\nexport function parseImage(entry: EntryFields.Object): ParsedImage | null {\n    if (\n        !isObject(entry)\n        || !isObject(entry.sys)\n        || !isObject(entry.fields)\n    ) {\n        console.warn('unknown image entry', entry);\n        return null;\n    }\n    return {\n        id: entry.sys.id,\n        title: entry.fields.title,\n        file: {\n            url: isObject(entry.fields.file) ? entry.fields.file.url : '',\n            width: isObject(entry.fields.file?.details?.image) ? entry.fields.file.details.image.width : 0,\n            height: isObject(entry.fields.file?.details?.image) ? entry.fields.file.details.image.height : 0\n        }\n    }\n}\n\nexport function sortProjects(projects: Array<Project>): Array<Project> {\n    const positioned = projects\n        .filter((project: Project) => project.position > -1)\n        .sort((a, b) => a.position - b.position);\n\n    const sorted = projects\n        .filter((project: Project) => project.position <= -1)\n        .sort((a, b) => {\n            return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime();\n        });\n\n    positioned.forEach((project: Project) => sorted.splice(Math.max(project.position - 1, 0), 0, project));\n\n    return sorted;\n}","import { RawEntry, Project } from '../index';\nimport { EntryFields } from 'contentful';\nimport { isObject } from '../../helpers';\nimport { parseRichText, parseImage } from './util';\n\n\nfunction projectParser(item: RawEntry) {\n    if (!isObject(item.fields) || !isObject(item.sys)) {\n        console.warn('unknown project item', item);\n        return;\n    }\n    const project: Project = {\n        id: '',\n        createdAt: new Date().toISOString(),\n        title: '',\n        text: null,\n        footnote: null,\n        thumbnail: null,\n        images: [],\n        position: -1\n    };\n    if (typeof item.sys.id === typeof project.id) {\n        project.id = item.sys.id;\n    }\n    if (typeof item.sys.createdAt === typeof project.createdAt) {\n        project.createdAt = item.sys.createdAt;\n    }\n    if (typeof item.fields.titel === typeof project.title) {\n        project.title = item.fields.titel;\n    }\n    const text = parseRichText(item.fields.text);\n    if (text) {\n        project.text = text;\n    }\n    const footnote = parseRichText(item.fields.fussnote);\n    if (footnote) {\n        project.footnote = footnote;\n    }\n    const thumbnail = parseImage(item.fields.thumbnail);\n    if (thumbnail) {\n        project.thumbnail = thumbnail;\n    }\n    if (Array.isArray(item.fields.bilder)) {\n        project.images = item.fields.bilder.map((entry: EntryFields.Object) => parseImage(entry)).filter((entry: EntryFields.Object) => !!entry);\n    }\n    if (typeof item.fields.position === typeof project.position) {\n        project.position = item.fields.position;\n    }\n    return project;\n}\n\nexport default projectParser;","import { RawEntry, InfoBlock } from '../index';\nimport { isObject } from '../../helpers';\nimport { parseRichText, parseImage } from './util';\nimport { EntryFields } from 'contentful';\n\n\nfunction infoBlockParser(item: RawEntry): InfoBlock | null {\n    if (!isObject(item.fields)) {\n        console.warn('unknown info block item', item);\n        return null;\n    }\n    const infoBlock: InfoBlock = {\n        text: null,\n        images: []\n    };\n    if (item.fields.text) {\n        const richText = parseRichText(item.fields.text);\n        if (richText) {\n            infoBlock.text = richText;\n        }\n    }\n    if (Array.isArray(item.fields.bild)) {\n        infoBlock.images = item.fields.bild.map((entry: EntryFields.Object) => parseImage(entry)).filter((entry: EntryFields.Object) => !!entry);\n    }\n    return infoBlock;\n}\n\nexport default infoBlockParser;","import { RawEntry, Config } from '../index';\nimport { isHexColor, isObject } from '../../helpers';\n\nconst minAnimationTime = 0.2;\nconst maxAnimationTime = 4;\nconst minImageSize = 400;\nconst maxImageSize = 1200;\nconst minImageRatio = 1;\nconst maxImageRatio = 2;\n\n\nfunction configParser(item: RawEntry): Config {\n    const config = {\n        enabled: false,\n        documentTitle: '',\n        animationTime: 0,\n        thumbnailSize: 0,\n        imageSize: 0,\n        ratio: 0,\n        palette: {\n            black: '#000',\n            grey: '#999',\n            lightgrey: '#E5E5E5',\n            white: '#FFF'\n        }\n    };\n    if (!isObject(item.fields)) {\n        console.warn('unknown config item', item);\n        return config;\n    }\n    if (!item.fields.configAktiv) {\n        return config;\n    }\n\n    if (typeof item.fields.configAktiv === typeof config.enabled) {\n        config.enabled = item.fields.configAktiv;\n    }\n    if (typeof item.fields.websiteTitel === typeof config.documentTitle) {\n        config.documentTitle = item.fields.websiteTitel;\n    }\n    if (typeof item.fields.animationszeit === typeof config.animationTime) {\n        config.animationTime = Math.min(maxAnimationTime, Math.max(minAnimationTime, item.fields.animationszeit));\n    }\n    if (typeof item.fields.maximaleThumbnailgre === typeof config.thumbnailSize) {\n        config.thumbnailSize = Math.min(maxImageSize, Math.max(minImageSize, item.fields.maximaleThumbnailgre));\n    }\n    if (typeof item.fields.maximaleBildgre === typeof config.imageSize) {\n        config.imageSize = Math.min(maxImageSize, Math.max(minImageSize, item.fields.maximaleBildgre));\n    }\n    if (typeof item.fields.bildSeitenverhltnis === 'string') {\n        const [ counter, denominator ] = item.fields.bildSeitenverhltnis.split(':').map((e: any) => Number(e));\n        if (!isNaN(counter) && !isNaN(denominator)) {\n            config.ratio = Math.min(maxImageRatio, Math.max(minImageRatio, counter / denominator));\n        }\n    }\n    if (isHexColor(item.fields.schwarz)) {\n        config.palette.black = item.fields.schwarz;\n    }\n    if (isHexColor(item.fields.grau)) {\n        config.palette.grey = item.fields.grau;\n    }\n    if (isHexColor(item.fields.hellgrau)) {\n        config.palette.lightgrey = item.fields.hellgrau;\n    }\n    if (isHexColor(item.fields.weiss)) {\n        config.palette.white = item.fields.weiss;\n    }\n    return config;\n}\n\nexport default configParser;","import { RawEntry, SiteContent } from '../index';\nimport { EntryCollection } from 'contentful';\nimport { isObject } from '../../helpers';\nimport projectParser from './projectParser';\nimport infoBlockParser from './infoBlockParser';\nimport configParser from './configParser';\nimport { sortProjects } from './util';\n\nconst ItemIds: { [key: string]: string } = {\n    PROJECT: 'projekt',\n    INFO_BLOCK: 'infoBlock',\n    CONFIG: 'config'\n};\n\n\nfunction siteContentParser(raw: EntryCollection<RawEntry>): SiteContent {\n    const siteContent: SiteContent = {\n        projects: [],\n        infoBlocks: [],\n        config: null\n    };\n\n    if (\n        !isObject(raw)\n        || !Array.isArray(raw.items)\n        || !isObject(raw.includes)\n        || !Array.isArray(raw.includes.Asset)\n    ) {\n        console.warn('unknown raw data', raw);\n        return siteContent;\n    }\n\n    raw.items.forEach(item => {\n        if (!isObject(item)) {\n            console.warn('unknown item', item);\n            return;\n        }\n        switch(item.sys?.contentType?.sys?.id) {\n            case ItemIds.PROJECT:\n                const parsedProject = projectParser(item);\n                if (!parsedProject) {\n                    break;\n                }\n                siteContent.projects.unshift(parsedProject);\n                break;\n            case ItemIds.INFO_BLOCK:\n                const parsedInfoBlock = infoBlockParser(item);\n                if (!parsedInfoBlock) {\n                    break;\n                }\n                siteContent.infoBlocks.unshift(parsedInfoBlock);\n                break;\n            case ItemIds.CONFIG:\n                if (siteContent.config) {\n                    break;\n                }\n                const parsedConfig = configParser(item);\n                if (!parsedConfig) {\n                    break;\n                }\n                siteContent.config = parsedConfig;\n                break;\n            default:\n                console.warn('unknown item type', item);\n        }\n    });\n\n    siteContent.projects = sortProjects(siteContent.projects);\n\n    return siteContent;\n}\n\nexport default siteContentParser;","import { ContentfulClientApi, EntryCollection } from 'contentful';\nimport { SiteContent } from './index';\nimport siteContentParser from './parser/siteContentParser';\n\nconst contentful = require('contentful'); // TODO why does import statement not work here?\n\nconst space = 'b522n0157zmv';\nconst accessToken = 'k5don56ounRIbth9QrBNF1jZ14zqfcQ2muxGIfwg0r4';\n\n\nclass ApiService {\n    _client: ContentfulClientApi;\n\n    constructor() {\n        this._client = contentful.createClient({\n            space,\n            accessToken\n        });\n    }\n\n    getSiteContent(): Promise<SiteContent> {\n        return this._client.getEntries()\n            .then((response: EntryCollection<any>) => siteContentParser(response));\n    }\n\n    getImageUrl({ id, width, height }: { id: string, width: number, height: number }): Promise<string> {\n        return this._client.getAsset(id)\n            .then(asset => `${asset.fields.file.url}?fit=fill&w=${width}&h=${height}`);\n    }\n}\n\nexport const apiService = new ApiService();","import { Page, State, ActionTypesType, PagesType, Action, Actions } from './index';\nimport { apiService } from '../lib/apiService/apiService';\nimport { applyStylesFromConfig } from '../lib/helpers';\n\n\n// enums\n\nexport const ActionTypes: ActionTypesType = {\n    GET_SITE_CONTENT: 'get-site-content',\n    SET_TARGET: 'set-target',\n    SET_PAGE: 'set-page',\n    SET_PROJECT_ID: 'set-project-id'\n};\n\nexport const Pages: PagesType = {\n    HOME: 'home',\n    PROJECTS: 'projects',\n    PROJECT_DETAIL: 'project-detail',\n    INFO: 'info'\n};\n\n\n// initial state\n\nexport const initState = {\n    siteContent: {\n        projects: [],\n        infoBlocks: [],\n        config: null\n    },\n    targetPage: Pages.HOME,\n    selectedPage: Pages.HOME,\n    selectedProjectId: ''\n};\n\n\n// reducer\n\nexport function reducer(state: State, action: Action): State {\n    switch (action.type) {\n        case ActionTypes.GET_SITE_CONTENT:\n            return { ...state, siteContent: action.payload };\n        case ActionTypes.SET_TARGET:\n            return { ...state, targetPage: action.payload };\n        case ActionTypes.SET_PAGE:\n            return { ...state, selectedPage: action.payload };\n        case ActionTypes.SET_PROJECT_ID:\n            return { ...state, selectedProjectId: action.payload };\n        default:\n            return state;\n    }\n}\n\n\n// actions\n\nfunction getSiteContent(): Promise<Action> {\n    return new Promise(resolve => {\n        apiService.getSiteContent()\n            .then(siteContent => {\n                applyStylesFromConfig(siteContent.config);\n                resolve({ type: ActionTypes.GET_SITE_CONTENT, payload: siteContent });\n            });\n    });\n}\n\nfunction setTarget(target: Page): Action {\n    return { type: ActionTypes.SET_TARGET, payload: target };\n}\n\nfunction setPage(page: Page): Action {\n    return { type: ActionTypes.SET_PAGE, payload: page };\n}\n\nfunction setProjectId(projectId: string): Action {\n    return { type: ActionTypes.SET_PROJECT_ID, payload: projectId };\n}\n\nexport const actions: Actions = {\n    getSiteContent,\n    setTarget,\n    setPage,\n    setProjectId\n};\n","import styles from './Navigation.module.css';\nimport cx from 'classnames';\n\ntype NavigationProps = {\n    isMobileNav?: boolean;\n    mobileNavIndex?: number;\n    children: JSX.Element | Array<JSX.Element>;\n};\n\n\nfunction Navigation({ isMobileNav, mobileNavIndex = -1, children }: NavigationProps): JSX.Element {\n    if (mobileNavIndex > -1 && Array.isArray(children)) {\n        children = children.slice(mobileNavIndex, mobileNavIndex + 1);\n    }\n\n    return (\n        <>\n            <div\n                className={cx(styles.Navigation, {\n                    [styles.mobileNav]: isMobileNav\n                })}\n            >\n                {children}\n            </div>\n            {isMobileNav && (\n                <div className={styles.spacer} />\n            )}\n        </>\n    );\n}\n\nexport default Navigation;","import styles from './Curtain.module.css';\nimport cx from 'classnames';\n\ntype CurtainProps = {\n    open: boolean;\n    onOpen?: () => void;\n    onClose?: () => void;\n};\n\n\nfunction Curtain({ open, onOpen, onClose }: CurtainProps): JSX.Element {\n    return (\n        <>\n            <div\n                className={cx(`${styles.Curtain} ${styles.left}`, {\n                    [styles.open]: open,\n                    [styles.closed]: !open\n                })}\n            />\n            <div\n                className={cx(`${styles.Curtain} ${styles.right}`, {\n                    [styles.open]: open,\n                    [styles.closed]: !open\n                })}\n                onTransitionEnd={() => {\n                    if (open) {\n                        if (typeof onOpen !== 'function') {\n                            return;\n                        }\n                        onOpen();\n                    } else {\n                        if (typeof onClose !== 'function') {\n                            return;\n                        }\n                        onClose();\n                    }\n                }}\n            />\n        </>\n    );\n}\n\nexport default Curtain;","import styles from './Logo.module.css';\n\ntype LogoProps = {\n    children: JSX.Element;\n};\n\n\nfunction Logo({ children }: LogoProps): JSX.Element {\n    return (\n        <div className={styles.Logo}>\n            {children}\n        </div>\n    );\n}\n\nexport default Logo;","import styles from './Button.module.css';\nimport cx from 'classnames';\n\ntype ButtonProps = {\n    label: string | JSX.Element;\n    active?: boolean;\n    disabled?: boolean;\n    cta?: () => void;\n    stopPropagation?: boolean;\n    className?: string;\n};\n\n\nfunction Button({ label, active, disabled, cta, stopPropagation, className = '' }: ButtonProps): JSX.Element {\n    return (\n        <button\n            className={cx(styles.Button, {\n                [className]: className,\n                [styles.active]: active,\n                [styles.disabled]: disabled\n            })}\n            onClick={event => {\n                if (stopPropagation) {\n                    event.stopPropagation();\n                }\n                if (disabled || typeof cta !== 'function') {\n                    return;\n                }\n                cta();\n            }}\n        >\n            {label}\n        </button>\n    );\n}\n\nexport default Button;","import { ParsedImage } from '../../lib/apiService';\nimport { useRef, useState, useEffect } from 'react';\nimport styles from './Image.module.css';\nimport { apiService } from '../../lib/apiService/apiService';\n\ninterface ImageProps extends ParsedImage {\n    width: number;\n    ratio: number;\n}\n\nconst imageLoadingTimeout = 5;\n\n\nfunction Image({ width, ratio, id, title, file }: ImageProps): JSX.Element {\n    const height = Math.round(width / ratio);\n\n    const imageRef = useRef(null);\n\n    const [ src, setSrc ] = useState('');\n    const [ loaded, setLoaded ] = useState(false);\n\n    useEffect(() => {\n        apiService.getImageUrl({ id, width, height })\n            .then(imageUrl => setSrc(imageUrl))\n            .catch(err => {\n                console.warn('no image url', err);\n                setSrc(file.url);\n            });\n        const timeoutId = setTimeout(() => setLoaded(true), imageLoadingTimeout * 1000);\n        return () => clearTimeout(timeoutId);\n    }, [ id, width, height, file.url ]);\n\n    return (\n        <div\n            className={styles.ImageBox}\n            style={{ width: `${width}px`, height: `${height}px` }}\n        >\n            {src && (\n                <img\n                    className={styles.Image}\n                    style={{ opacity: loaded ? 1 : 0 }}\n                    ref={imageRef}\n                    src={src}\n                    alt={title}\n                    onLoad={() => setLoaded(true)}\n                    onError={() => setSrc(file.url)}\n                />\n            )}\n        </div>\n    );\n}\n\nexport default Image;","import { Project, Config } from '../../../lib/apiService';\nimport styles from './ProjectsItem.module.css';\nimport { getImageRatio, getStyleVariable, getThumbnailWidth, isMobile, numberFromPx } from '../../../lib/helpers';\n\nimport Image from '../../Image/Image';\n\ntype ProjectsItemProps = {\n    item: Project;\n    config: Config;\n    callback: () => void;\n};\n\n\nfunction ProjectsItem({ item, config, callback }: ProjectsItemProps): JSX.Element {\n    if (!item.thumbnail) {\n        return (\n            <div className={styles.ProjectsItem}>no thumbnail</div>\n        );\n    }\n\n    const padding = numberFromPx(getStyleVariable('--padding-medium'));\n    let width = getThumbnailWidth(config);\n    let ratio = getImageRatio(config);\n\n    if (item.thumbnail.file.width === item.thumbnail.file.height) {\n        width = Math.round(width / ratio);\n        ratio = 1;\n    }\n\n    if (item.thumbnail.file.width < item.thumbnail.file.height) {\n        const prevWidth = width;\n\n        width = Math.round(width / ratio);\n        ratio = width / (prevWidth - (4 * padding));\n    }\n\n    let titleWidth = width;\n\n    if (!isMobile() && window.innerWidth < ((3 * width) + (4 * padding))) {\n        titleWidth = ((window.innerWidth - width) / 2) - (2 * padding);\n    }\n\n    return (\n        <div\n            className={styles.ProjectsItem}\n            onClick={() => callback()}\n        >\n            <Image\n                width={width}\n                ratio={ratio}\n                {...item.thumbnail}\n            />\n            <h4\n                className={styles.title}\n                style={{ width: `${titleWidth}px` }}\n            >\n                {item.title}\n            </h4>\n        </div>\n    );\n}\n\nexport default ProjectsItem;","import { Project, Config } from '../../lib/apiService';\nimport styles from './Projects.module.css';\n\nimport ProjectsItem from './ProjectsItem/ProjectsItem';\n\ntype ProjectsProps = {\n    items: Array<Project>;\n    config: Config;\n    setProjectId: (projectId: string) => void;\n};\n\n\nfunction Projects({ items, config, setProjectId }: ProjectsProps): JSX.Element {\n    return (\n        <div className={styles.Projects}>\n            <div className={styles.centerLine} />\n            {items.map((item, index) => (\n                <ProjectsItem\n                    key={index}\n                    item={item}\n                    config={config}\n                    callback={() => setProjectId(item.id)}\n                />\n            ))}\n        </div>\n    );\n}\n\nexport default Projects;","import { EntryFields } from 'contentful';\nimport { useRef, useEffect } from 'react';\nimport { documentToReactComponents } from '@contentful/rich-text-react-renderer';\nimport styles from './RichText.module.css';\nimport cx from 'classnames';\nimport { addTargetBlankToRichText } from '../../lib/helpers';\n\nconst Sizes = {\n    L: 'l',\n    M: 'm',\n    S: 's'\n};\n\nconst Size = Object.values(Sizes);\n\ntype RichTextProps = {\n    entry: EntryFields.RichText;\n    size: typeof Size[number];\n};\n\nfunction renderRichText(entry: EntryFields.RichText) {\n    // @ts-ignore\n    return documentToReactComponents(entry);\n}\n\n\nfunction RichText({ entry, size }: RichTextProps): JSX.Element {\n    const ref = useRef(null);\n\n    useEffect(() => {\n        if (!ref.current) {\n            return;\n        }\n        // @ts-ignore\n        addTargetBlankToRichText(ref.current);\n    }, [ entry ]);\n\n    return (\n        <div\n            ref={ref}\n            className={cx(styles.RichText, {\n                [styles.largeSize]: size === Sizes.L,\n                [styles.mediumSize]: size === Sizes.M,\n                [styles.smallSize]: size === Sizes.S\n            })}\n        >\n            {renderRichText(entry)}\n        </div>\n    );\n}\n\nexport default RichText;","import { InfoBlock } from '../../../lib/apiService';\nimport styles from './InfoItem.module.css';\nimport Image from '../../Image/Image';\nimport RichText from '../../RichText/RichText';\nimport { getStyleVariable, isMobile, numberFromPx } from '../../../lib/helpers';\n\ntype InfoItemProps = {\n    item: InfoBlock;\n    width: number;\n};\n\n\nfunction InfoItem({ item, width }: InfoItemProps): JSX.Element {\n    const padding = isMobile()\n        ? numberFromPx(getStyleVariable('--padding-medium'))\n        : numberFromPx(getStyleVariable('--padding-large'));\n    return (\n        <div\n            className={styles.InfoItem}\n            style={{ width: `${width}px` }}\n        >\n            {!!item.images.length && (\n                <Image width={width - (2 * padding)} ratio={1.6} {...item.images[0]} />\n            )}\n            {item.text && (\n                <RichText entry={item.text} size=\"l\" />\n            )}\n        </div>\n    );\n}\n\nexport default InfoItem;","import { useState, useEffect } from 'react';\nimport { InfoBlock, Config } from '../../lib/apiService';\nimport styles from './Info.module.css';\nimport cx from 'classnames';\nimport { getStyleVariable, isMobile, isPortrait, numberFromPx } from '../../lib/helpers';\n\nimport InfoItem from './InfoItem/InfoItem';\n\ntype InfoProps = {\n    items: Array<InfoBlock>;\n    config: Config;\n    open: boolean;\n    onOpen?: () => void;\n    onClose?: () => void;\n};\n\n\nfunction Info({ items, config, open, onOpen, onClose }: InfoProps): JSX.Element {\n    const [ isTransitioning, setIsTransitioning ] = useState(false);\n\n    useEffect(() => setIsTransitioning(true), [ open ]);\n\n    let width = Math.round(Math.min(\n        (config?.imageSize || numberFromPx(getStyleVariable('--default-content-width'))),\n        (window.innerWidth / 2))\n    );\n    if (isMobile() && isPortrait()) {\n        width = window.innerWidth;\n    }\n\n    return (\n        <div\n            className={styles.Info}\n            style={{ width: `${width}px` }}\n        >\n            <div\n                className={cx(styles.infoCurtainBox, {\n                    [styles.isTransitioning]: isTransitioning,\n                    [styles.isOpen]: open,\n                    [styles.isClosed]: !open\n                })}\n                onAnimationEnd={() => {\n                    setIsTransitioning(false);\n                    if (open) {\n                        if (typeof onOpen !== 'function') {\n                            return;\n                        }\n                        onOpen();\n                    } else {\n                        if (typeof onClose !== 'function') {\n                            return;\n                        }\n                        onClose();\n                    }\n                }}\n            >\n                {items.map((item, index) => (\n                    <InfoItem\n                        key={index}\n                        item={item}\n                        width={width}\n                    />\n                ))}\n            </div>\n        </div>\n    );\n}\n\nexport default Info;","import { Page } from '../../store';\nimport styles from './PageBox.module.css';\nimport cx from 'classnames';\n\ntype PageBoxProps = {\n    page: Page;\n    target: Page;\n    selected: Page;\n    children: JSX.Element;\n};\n\nlet prevSelected: Page | string = '';\n\n\nfunction PageBox({ page, target, selected, children }: PageBoxProps): JSX.Element {\n    if (prevSelected !== selected) {\n        window.scroll(0, 0);\n        prevSelected = selected;\n    }\n\n    return (\n        <div\n            className={cx(styles.PageBox, {\n                [styles.isTarget]: page === target,\n                [styles.isSelected]: page === selected\n            })}\n        >\n            {children}\n        </div>\n    );\n}\n\nexport default PageBox;","function CloseIcon(): JSX.Element {\n    return (\n        <span>{String.fromCharCode(10005)}</span>\n    );\n}\n\nexport default CloseIcon;","import styles from './NavClose.module.css';\nimport { isMobile } from '../../../lib/helpers';\nimport Button from '../../Button/Button';\nimport CloseIcon from '../../Icons/CloseIcon';\n\ntype NavCloseProps = {\n    onClose: () => void;\n    numProjects?: number;\n    currentIndex?: number;\n};\n\n\nfunction NavClose({ onClose, numProjects, currentIndex }: NavCloseProps): JSX.Element {\n    return (\n        <div className={styles.NavClose}>\n            {!isMobile() && typeof numProjects === 'number' && typeof currentIndex === 'number' && (\n                <div className={styles.counter}>\n                    <Button\n                        label={`${currentIndex + 1}/${numProjects}`}\n                        disabled\n                    />\n                </div>\n            )}\n            <Button\n                className={styles.closeButton}\n                label={<CloseIcon/>}\n                cta={() => onClose()}\n            />\n        </div>\n    );\n}\n\nexport default NavClose;","export function ArrowLeft(): JSX.Element {\n    return (\n        <span>&#8592;</span>\n    );\n}\n\nexport function ArrowRight(): JSX.Element {\n    return (\n        <span>&#8594;</span>\n    );\n}","import styles from './NavSkip.module.css';\nimport Button from '../../Button/Button';\nimport { ArrowLeft, ArrowRight } from '../../Icons/Arrows';\n\ntype NavSkipProps = {\n    selectPrev: () => void;\n    selectNext: () => void;\n};\n\n\nfunction NavSkip({ selectPrev, selectNext }: NavSkipProps): JSX.Element {\n    return (\n        <div className={styles.NavSkip}>\n            <Button\n                className={`${styles.skipButton} ${styles.selectPrev}`}\n                label={<ArrowLeft/>}\n                cta={selectPrev}\n            />\n            <Button\n                className={styles.skipButton}\n                label={<ArrowRight/>}\n                cta={selectNext}\n            />\n        </div>\n    );\n}\n\nexport default NavSkip;","import { EntryFields } from 'contentful';\nimport { Project, Config } from '../../lib/apiService';\nimport styles from './ProjectDetail.module.css';\nimport { getContentWidth, getImageRatio, getStyleVariable, incrementIndex, isMobile, isPortrait, numberFromPx } from '../../lib/helpers';\n\nimport Image from '../Image/Image';\nimport RichText from '../RichText/RichText';\nimport NavClose from './NavClose/NavClose';\nimport NavSkip from './NavSkip/NavSkip';\n\ntype ProjectDetailProps = {\n    selectedProjectId: string;\n    projects: Array<Project>;\n    config: Config;\n    setProjectId: (projectId: string) => void;\n    onClose: () => void;\n};\n\n\nfunction ProjectDetail({ selectedProjectId, projects, config, setProjectId, onClose }: ProjectDetailProps): JSX.Element {\n    const project = projects.find((project: any) => project.id === selectedProjectId);\n\n    if (!project) {\n        return (\n            <div>no project</div>\n        );\n    }\n\n    const index = projects.indexOf(project);\n    const prevIndex = incrementIndex(projects, index, -1);\n    const nextIndex = incrementIndex(projects, index, 1);\n\n    const width = getContentWidth(config);\n    const ratio = getImageRatio(config);\n\n    const padding = numberFromPx(getStyleVariable('--padding-large'));\n    const widthOverhead = (window.innerWidth / 2) - width;\n    const textBoxTranslateX = (width / 2) + padding;\n    let textBoxWidth = width / 2;\n\n    if (widthOverhead < (2 * padding)) {\n        textBoxWidth -= ((2 * padding) - widthOverhead);\n    }\n\n    return (\n        <div className={styles.ProjectDetail}>\n            <div className={styles.imageBox}>\n                {project.images.map((image, index) => {\n                    let imageWidth = width;\n                    let imageRatio = ratio;\n                    if (image.file.width === image.file.height) {\n                        imageWidth = Math.round(width / ratio);\n                        imageRatio = 1;\n                    }\n                    if (image.file.width < image.file.height) {\n                        imageRatio = 1 / ratio;\n                        imageWidth = Math.round(width * imageRatio * imageRatio);\n                    }\n                    return (\n                        <Image key={index} width={imageWidth} ratio={imageRatio} id={image.id} title={image.title} file={image.file} />\n                    );\n                })}\n            </div>\n\n            <div\n                className={styles.textBox}\n                style={isMobile()\n                    ? isPortrait() ? {} : { width: `${width}px`, position: 'relative', left: '50%', transform: 'translateX(-50%)' }\n                    : { width: `${textBoxWidth}px`, transform: `translateX(${textBoxTranslateX}px)` }\n                }\n            >\n                <h1>{project.title}</h1>\n                <RichText entry={project.text as EntryFields.RichText} size=\"m\" />\n                <RichText entry={project.footnote as EntryFields.RichText} size=\"s\" />\n                <div className={styles.space} />\n            </div>\n\n            <NavSkip\n                selectPrev={() => {\n                    setProjectId(projects[prevIndex].id);\n                    window.scroll(0, 0);\n                }}\n                selectNext={() => {\n                    setProjectId(projects[nextIndex].id);\n                    window.scroll(0, 0);\n                }}\n            />\n\n            <NavClose\n                onClose={onClose}\n                numProjects={projects.length}\n                currentIndex={index}\n            />\n        </div>\n    );\n}\n\nexport default ProjectDetail;","import CloseIcon from './CloseIcon';\n\n\nfunction AddIcon(): JSX.Element {\n    return (\n        <div style={{ transform: 'rotate(45deg) scale(0.85)' }}>\n            <CloseIcon/>\n        </div>\n    );\n}\n\nexport default AddIcon;","import { useState, useEffect } from 'react';\nimport styles from './App.module.css';\nimport cx from 'classnames';\nimport useAsyncReducer from './lib/hooks/useAsyncReducer';\nimport { Pages, initState, reducer, actions } from './store/store';\nimport { isMobile } from './lib/helpers';\n\nimport Navigation from './components/Navigation/Navigation';\nimport Curtain from './components/Curtain/Curtain';\nimport Logo from './components/Logo/Logo';\nimport Button from './components/Button/Button';\nimport Projects from './components/Projects/Projects';\nimport Info from './components/Info/Info';\nimport PageBox from './components/PageBox/PageBox';\nimport ProjectDetail from './components/ProjectDetail/ProjectDetail';\nimport CloseIcon from './components/Icons/CloseIcon';\nimport AddIcon from './components/Icons/AddIcon';\n\n\nfunction App(): JSX.Element {\n    const { state, asyncDispatch } = useAsyncReducer(reducer, initState);\n    const { siteContent, targetPage, selectedPage, selectedProjectId } = state;\n\n    const [ , triggerResize ] = useState(false);\n\n    useEffect(() => {\n        const resize = () => triggerResize(prevState => !prevState);\n        window.addEventListener('resize', resize);\n        return () => window.removeEventListener('resize', resize);\n    }, []);\n\n    useEffect(() => asyncDispatch(actions.getSiteContent()), [ asyncDispatch ]);\n\n    const isMobileNav = (targetPage !== Pages.HOME || selectedPage !== Pages.HOME) && isMobile();\n\n    return (\n        <div className={cx('', { [styles.isHome]: selectedPage === Pages.HOME })}>\n            <Curtain\n                open={targetPage !== Pages.HOME}\n                onOpen={() => asyncDispatch(actions.setPage(targetPage))}\n                onClose={() => asyncDispatch(actions.setPage(Pages.HOME))}\n            />\n\n            <Navigation\n                isMobileNav={isMobileNav}\n                mobileNavIndex={isMobileNav ? (targetPage === Pages.INFO ? 0 : 1) : (targetPage === Pages.PROJECT_DETAIL ? 1 : -1)}\n            >\n                <Button\n                    label={isMobileNav ? <CloseIcon/> : 'Grafik'}\n                    active={targetPage === Pages.PROJECTS}\n                    disabled={!siteContent.projects.length}\n                    cta={() => asyncDispatch(actions.setTarget(Pages.PROJECTS))}\n                />\n                <Button\n                    label={isMobileNav ? <AddIcon/> : 'Kontakt + Info'}\n                    active={targetPage === Pages.INFO}\n                    disabled={!siteContent.infoBlocks.length}\n                    cta={() => asyncDispatch(actions.setTarget(Pages.INFO))}\n                />\n            </Navigation>\n\n            <Logo>\n                <Button\n                    label={siteContent.config?.documentTitle ? siteContent.config.documentTitle : 'Studio Anderhalden'}\n                    cta={() => asyncDispatch(actions.setTarget(Pages.HOME))}\n                />\n            </Logo>\n\n            <PageBox page={Pages.PROJECTS} target={targetPage} selected={selectedPage}>\n                <Projects\n                    items={siteContent.projects}\n                    config={siteContent.config}\n                    setProjectId={projectId => {\n                        asyncDispatch(actions.setProjectId(projectId));\n                        asyncDispatch(actions.setTarget(Pages.PROJECT_DETAIL));\n                        asyncDispatch(actions.setPage(Pages.PROJECT_DETAIL));\n                    }}\n                />\n            </PageBox>\n\n            {selectedPage === Pages.PROJECT_DETAIL && (\n                <ProjectDetail\n                    selectedProjectId={selectedProjectId}\n                    projects={siteContent.projects}\n                    config={siteContent.config}\n                    setProjectId={projectId => asyncDispatch(actions.setProjectId(projectId))}\n                    onClose={() => {\n                        asyncDispatch(actions.setTarget(Pages.PROJECTS));\n                        asyncDispatch(actions.setPage(Pages.PROJECTS));\n                    }}\n                />\n            )}\n\n            <PageBox page={Pages.INFO} target={targetPage} selected={selectedPage}>\n                <Info\n                    items={siteContent.infoBlocks}\n                    config={siteContent.config}\n                    open={targetPage === Pages.INFO}\n                    onOpen={() => asyncDispatch(actions.setPage(Pages.INFO))}\n                    onClose={() => asyncDispatch(actions.setPage(targetPage))}\n                />\n            </PageBox>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n    <React.StrictMode>\n        <App/>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProjectDetail\":\"ProjectDetail_ProjectDetail__3C2sP\",\"fade-in\":\"ProjectDetail_fade-in__1dJfz\",\"imageBox\":\"ProjectDetail_imageBox__3qDiS\",\"textBox\":\"ProjectDetail_textBox__l3wqu\",\"space\":\"ProjectDetail_space__oKQy0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavSkip\":\"NavSkip_NavSkip__UarSh\",\"skipButton\":\"NavSkip_skipButton__2XaxE\",\"selectPrev\":\"NavSkip_selectPrev__3LaqK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navigation\":\"Navigation_Navigation__1tTPb\",\"mobileNav\":\"Navigation_mobileNav__34zkU\",\"spacer\":\"Navigation_spacer__1vJOr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\",\"active\":\"Button_active__TCjlx\",\"disabled\":\"Button_disabled__2c3jr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProjectsItem\":\"ProjectsItem_ProjectsItem__ixgAC\",\"title\":\"ProjectsItem_title__1n-p3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PageBox\":\"PageBox_PageBox__CpPMT\",\"isTarget\":\"PageBox_isTarget__fESuA\",\"isSelected\":\"PageBox_isSelected__ls1KE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavClose\":\"NavClose_NavClose__1-kWt\",\"counter\":\"NavClose_counter__3vKV-\",\"closeButton\":\"NavClose_closeButton__34JCj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Projects\":\"Projects_Projects__1ECks\",\"centerLine\":\"Projects_centerLine__39BzK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageBox\":\"Image_ImageBox__16ZVW\",\"Image\":\"Image_Image__1br15\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"isHome\":\"App_isHome__oTROn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Logo\":\"Logo_Logo__1N0xH\",\"wiggle\":\"Logo_wiggle__23iAG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"InfoItem\":\"InfoItem_InfoItem__26gzv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Curtain\":\"Curtain_Curtain__23SsW\",\"left\":\"Curtain_left__3IErm\",\"right\":\"Curtain_right__Zgczi\",\"open\":\"Curtain_open__3Pkll\",\"closed\":\"Curtain_closed__3MPTA\"};"],"sourceRoot":""}