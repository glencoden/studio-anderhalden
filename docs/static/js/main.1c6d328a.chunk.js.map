{"version":3,"sources":["components/Button/Button.module.css","lib/helpers.ts","lib/apiService/parser/util.ts","lib/apiService/parser/projectParser.ts","lib/apiService/parser/infoBlockParser.ts","lib/apiService/parser/configParser.ts","lib/apiService/parser/siteContentParser.ts","lib/apiService/apiService.ts","store/store.ts","lib/hooks/useAsyncReducer.ts","components/Navigation/Navigation.tsx","components/Curtain/Curtain.tsx","components/Logo/Logo.tsx","components/Button/Button.tsx","components/Image/Image.tsx","components/Projects/ProjectsItem/ProjectsItem.tsx","components/Projects/Projects.tsx","components/RichText/RichText.tsx","components/Info/InfoItem/InfoItem.tsx","components/Info/Info.tsx","components/PageBox/PageBox.tsx","App.tsx","index.tsx","components/RichText/RichText.module.css","components/PageBox/PageBox.module.css","components/Projects/Projects.module.css","components/Projects/ProjectsItem/ProjectsItem.module.css","components/Image/Image.module.css","App.module.css","components/Navigation/Navigation.module.css","components/Logo/Logo.module.css","components/Info/InfoItem/InfoItem.module.css","components/Info/Info.module.css","components/Curtain/Curtain.module.css"],"names":["module","exports","isObject","val","Array","isArray","isHexColor","test","isPortrait","window","innerWidth","innerHeight","screen","orientation","type","includes","isMobile","styleVariables","getStyleVariable","name","value","getComputedStyle","document","documentElement","getPropertyValue","numberFromPx","endsWith","Number","slice","parseRichText","entry","hasOwnProperty","console","warn","parseImage","sys","fields","id","title","file","url","width","details","image","height","projectParser","item","project","createdAt","Date","toISOString","text","footnote","thumbnail","images","titel","fussnote","bilder","map","filter","infoBlockParser","infoBlock","richText","bild","configParser","config","enabled","documentTitle","animationTime","imageSize","ratio","palette","black","grey","lightgrey","white","configAktiv","websiteTitel","animationszeit","Math","min","max","maximaleBildgre","bildSeitenverhltnis","split","e","counter","denominator","isNaN","schwarz","grau","hellgrau","weiss","ItemIds","siteContentParser","raw","siteContent","projects","infoBlocks","items","Asset","forEach","contentType","parsedProject","unshift","parsedInfoBlock","parsedConfig","sort","a","b","getTime","contentful","require","apiService","_client","this","createClient","space","accessToken","getEntries","then","response","getAsset","asset","ActionTypes","Pages","initState","targetPage","selectedPage","selectedProjectId","reducer","state","action","payload","actions","getSiteContent","Promise","resolve","style","setProperty","setTarget","target","setPage","page","setProjectId","projectId","useAsyncReducer","useReducer","dispatch","asyncDispatch","useMemo","wrapAsync","Navigation","children","className","styles","Curtain","open","onOpen","onClose","left","right","onTransitionEnd","Logo","Button","label","disabled","active","cta","classNames","push","join","onClick","Image","round","imageRef","useRef","useState","src","setSrc","loaded","setLoaded","useEffect","getImageUrl","imageUrl","catch","err","timeoutId","setTimeout","imageLoadingTimeout","clearTimeout","ImageBox","opacity","ref","alt","onLoad","onError","ProjectsItem","callback","fixedWidth","Projects","centerLine","index","Sizes","M","S","sizeClass","Object","values","mediumSize","smallSize","renderRichText","documentToReactComponents","RichText","size","InfoItem","length","Info","isTransitioning","setIsTransitioning","cx","infoCurtain","isOpen","isClosed","onAnimationEnd","prevSelected","PageBox","selected","scroll","isTarget","isSelected","App","log","isHome","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1c6d328a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\",\"active\":\"Button_active__TCjlx\",\"disabled\":\"Button_disabled__2c3jr\"};","import { Config } from './apiService/parser';\n\nexport function isObject(val: any): Boolean {\n    return val !== null && typeof val !== 'function' && typeof val === 'object' && !Array.isArray(val);\n}\n\nexport function isHexColor(val: any): Boolean {\n    return /#[0-9A-Fa-f]{3}/.test(val) || /#[0-9A-Fa-f]{6}/.test(val);\n}\n\nexport function applyStylesFromConfig(config: Config): void {\n    // @ts-ignore\n    if (!config.enabled) {\n        return;\n    }\n    // @ts-ignore\n    document.title = config.documentTitle;\n    // @ts-ignore\n    document.documentElement.style.setProperty('--black', config.palette.black);\n    // @ts-ignore\n    document.documentElement.style.setProperty('--grey', config.palette.grey);\n    // @ts-ignore\n    document.documentElement.style.setProperty('--lightgrey', config.palette.lightgrey);\n    // @ts-ignore\n    document.documentElement.style.setProperty('--white', config.palette.white);\n    // @ts-ignore\n    document.documentElement.style.setProperty('--animation-time', config.animationTime);\n}\n\nexport function isPortrait(): boolean {\n    let isPortrait = window.innerWidth < window.innerHeight;\n    if (isObject(window.screen.orientation)) {\n        const { type } = window.screen.orientation;\n        isPortrait = typeof type === 'string' && type.includes('portrait');\n    }\n    return isPortrait;\n}\n\nexport function isMobile(): boolean {\n    if (isPortrait()) {\n        return window.innerWidth < 620;\n    }\n    return window.innerWidth < 820;\n}\n\nconst styleVariables: { [key: string]: string } = {};\n\nexport function getStyleVariable(name: string): string {\n    if (styleVariables[name]) {\n        return styleVariables[name];\n    }\n    const value = window.getComputedStyle(document.documentElement).getPropertyValue(name);\n    styleVariables[name] = value;\n    return value;\n}\n\nexport function numberFromPx(value: string): number {\n    if (value.endsWith('px')) {\n        return Number(value.slice(0, -2));\n    }\n    return 0;\n}","import { ParsedImage } from './index';\nimport { isObject } from '../../helpers';\nimport { EntryFields } from 'contentful';\n\nexport function parseRichText(entry: EntryFields.Object): EntryFields.RichText | null {\n    if (\n        !isObject(entry)\n        || !entry.hasOwnProperty('content')\n        || !entry.hasOwnProperty('nodeType')\n    ) {\n        console.warn('unknown rich text entry', entry);\n        return null;\n    }\n    return entry;\n}\n\nexport function parseImage(entry: EntryFields.Object): ParsedImage | null {\n    if (\n        !isObject(entry)\n        || !isObject(entry.sys)\n        || !isObject(entry.fields)\n    ) {\n        console.warn('unknown image entry', entry);\n        return null;\n    }\n    return {\n        id: entry.sys.id,\n        title: entry.fields.title,\n        file: {\n            url: isObject(entry.fields.file) ? entry.fields.file.url : '',\n            width: isObject(entry.fields.file?.details?.image) ? entry.fields.file.details.image.width : 0,\n            height: isObject(entry.fields.file?.details?.image) ? entry.fields.file.details.image.height : 0\n        }\n    }\n}","import { RawEntry, Project } from './index';\nimport { EntryFields } from 'contentful';\nimport { isObject } from '../../helpers';\nimport { parseRichText, parseImage } from './util';\n\n\nfunction projectParser(item: RawEntry) {\n    if (!isObject(item.fields) || !isObject(item.sys)) {\n        console.warn('unknown project item', item);\n        return;\n    }\n    const project: Project = {\n        id: '',\n        createdAt: new Date().toISOString(),\n        title: '',\n        text: null,\n        footnote: null,\n        thumbnail: null,\n        images: []\n    };\n    if (typeof item.sys.id === typeof project.id) {\n        project.id = item.sys.id;\n    }\n    if (typeof item.sys.createdAt === typeof project.createdAt) {\n        project.createdAt = item.sys.createdAt;\n    }\n    if (typeof item.fields.titel === typeof project.title) {\n        project.title = item.fields.titel;\n    }\n    const text = parseRichText(item.fields.text);\n    if (text) {\n        project.text = text;\n    }\n    const footnote = parseRichText(item.fields.fussnote);\n    if (footnote) {\n        project.footnote = footnote;\n    }\n    const thumbnail = parseImage(item.fields.thumbnail);\n    if (thumbnail) {\n        project.thumbnail = thumbnail;\n    }\n    if (Array.isArray(item.fields.bilder)) {\n        project.images = item.fields.bilder.map((entry: EntryFields.Object) => parseImage(entry)).filter((entry: EntryFields.Object) => !!entry);\n    }\n    return project;\n}\n\nexport default projectParser;","import { RawEntry, InfoBlock } from './index';\nimport { isObject } from '../../helpers';\nimport { parseRichText, parseImage } from './util';\nimport { EntryFields } from 'contentful';\n\n\nfunction infoBlockParser(item: RawEntry): InfoBlock | null {\n    if (!isObject(item.fields)) {\n        console.warn('unknown info block item', item);\n        return null;\n    }\n    const infoBlock: InfoBlock = {\n        text: null,\n        images: []\n    };\n    if (item.fields.text) {\n        const richText = parseRichText(item.fields.text);\n        if (richText) {\n            infoBlock.text = richText;\n        }\n    }\n    if (Array.isArray(item.fields.bild)) {\n        infoBlock.images = item.fields.bild.map((entry: EntryFields.Object) => parseImage(entry)).filter((entry: EntryFields.Object) => !!entry);\n    }\n    return infoBlock;\n}\n\nexport default infoBlockParser;","import { RawEntry, Config } from './index';\nimport { isHexColor, isObject } from '../../helpers';\n\nconst minAnimationTime = 0.2;\nconst maxAnimationTime = 4;\nconst minImageSize = 400;\nconst maxImageSize = 1000;\nconst minImageRatio = 1;\nconst maxImageRatio = 2;\n\n\nfunction configParser(item: RawEntry): Config {\n    const config = {\n        enabled: false,\n        documentTitle: '',\n        animationTime: 0,\n        imageSize: 0,\n        ratio: 0,\n        palette: {\n            black: '#000',\n            grey: '#999',\n            lightgrey: '#E5E5E5',\n            white: '#FFF'\n        }\n    };\n    if (!isObject(item.fields)) {\n        console.warn('unknown config item', item);\n        return config;\n    }\n    if (typeof item.fields.configAktiv === typeof config.enabled) {\n        config.enabled = item.fields.configAktiv;\n    }\n    if (typeof item.fields.websiteTitel === typeof config.documentTitle) {\n        config.documentTitle = item.fields.websiteTitel;\n    }\n    if (typeof item.fields.animationszeit === typeof config.animationTime) {\n        config.animationTime = Math.min(maxAnimationTime, Math.max(minAnimationTime, item.fields.animationszeit));\n    }\n    if (typeof item.fields.maximaleBildgre === typeof config.imageSize) {\n        config.imageSize = Math.min(maxImageSize, Math.max(minImageSize, item.fields.maximaleBildgre));\n    }\n    if (typeof item.fields.bildSeitenverhltnis === 'string') {\n        const [ counter, denominator ] = item.fields.bildSeitenverhltnis.split(':').map((e: any) => Number(e));\n        if (!isNaN(counter) && !isNaN(denominator)) {\n            config.ratio = Math.min(maxImageRatio, Math.max(minImageRatio, counter / denominator));\n        }\n    }\n    if (isHexColor(item.fields.schwarz)) {\n        config.palette.black = item.fields.schwarz;\n    }\n    if (isHexColor(item.fields.grau)) {\n        config.palette.grey = item.fields.grau;\n    }\n    if (isHexColor(item.fields.hellgrau)) {\n        config.palette.lightgrey = item.fields.hellgrau;\n    }\n    if (isHexColor(item.fields.weiss)) {\n        config.palette.white = item.fields.weiss;\n    }\n    return config;\n}\n\nexport default configParser;","import { RawEntry, SiteContent } from './index';\nimport { EntryCollection } from 'contentful';\nimport { isObject } from '../../helpers';\nimport projectParser from './projectParser';\nimport infoBlockParser from './infoBlockParser';\nimport configParser from './configParser';\n\nconst ItemIds: { [key: string]: string } = {\n    PROJECT: 'projekt',\n    INFO_BLOCK: 'infoBlock',\n    CONFIG: 'config'\n};\n\n\nfunction siteContentParser(raw: EntryCollection<RawEntry>): SiteContent {\n    const siteContent: SiteContent = {\n        projects: [],\n        infoBlocks: [],\n        config: null\n    };\n\n    if (\n        !isObject(raw)\n        || !Array.isArray(raw.items)\n        || !isObject(raw.includes)\n        || !Array.isArray(raw.includes.Asset)\n    ) {\n        console.warn('unknown raw data', raw);\n        return siteContent;\n    }\n\n    raw.items.forEach(item => {\n        if (!isObject(item)) {\n            console.warn('unknown item', item);\n            return;\n        }\n        switch(item.sys?.contentType?.sys?.id) {\n            case ItemIds.PROJECT:\n                const parsedProject = projectParser(item);\n                if (!parsedProject) {\n                    break;\n                }\n                siteContent.projects.unshift(parsedProject);\n                break;\n            case ItemIds.INFO_BLOCK:\n                const parsedInfoBlock = infoBlockParser(item);\n                if (!parsedInfoBlock) {\n                    break;\n                }\n                siteContent.infoBlocks.unshift(parsedInfoBlock);\n                break;\n            case ItemIds.CONFIG:\n                if (siteContent.config) {\n                    break;\n                }\n                const parsedConfig = configParser(item);\n                if (!parsedConfig) {\n                    break;\n                }\n                siteContent.config = parsedConfig;\n                break;\n            default:\n                console.warn('unknown item type', item);\n        }\n    });\n\n    siteContent.projects = siteContent.projects.sort((a, b) => {\n        return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime();\n    });\n\n    return siteContent;\n}\n\nexport default siteContentParser;","import { ContentfulClientApi, EntryCollection } from 'contentful';\nimport { SiteContent } from './parser';\nimport siteContentParser from './parser/siteContentParser';\n\nconst contentful = require('contentful');\n\nconst space = 'b522n0157zmv';\nconst accessToken = 'k5don56ounRIbth9QrBNF1jZ14zqfcQ2muxGIfwg0r4';\n\n\nclass ApiService {\n    _client: ContentfulClientApi;\n\n    constructor() {\n        this._client = contentful.createClient({\n            space,\n            accessToken\n        });\n    }\n\n    getSiteContent(): Promise<SiteContent> {\n        return this._client.getEntries()\n            .then((response: EntryCollection<any>) => siteContentParser(response));\n    }\n\n    getImageUrl({ id, width, height }: { id: string, width: number, height: number }): Promise<string> {\n        return this._client.getAsset(id)\n            .then(asset => `${asset.fields.file.url}?fit=fill&w=${width}&h=${height}`);\n    }\n}\n\nexport const apiService = new ApiService();","import { Page, State, ActionTypesType, PagesType, Action, Actions } from './index';\nimport { apiService } from '../lib/apiService/apiService';\nimport { applyStylesFromConfig } from '../lib/helpers';\n\n\n// enums\n\nexport const ActionTypes: ActionTypesType = {\n    GET_SITE_CONTENT: 'get-site-content',\n    SET_TARGET: 'set-target',\n    SET_PAGE: 'set-page',\n    SET_PROJECT_ID: 'set-project-id'\n};\n\nexport const Pages: PagesType = {\n    HOME: 'home',\n    PROJECTS: 'projects',\n    PROJECT_DETAIL: 'project-detail',\n    INFO: 'info'\n};\n\n\n// initial state\n\nexport const initState = {\n    siteContent: {\n        projects: [],\n        infoBlocks: [],\n        config: null\n    },\n    targetPage: Pages.HOME,\n    selectedPage: Pages.HOME,\n    selectedProjectId: ''\n};\n\n\n// reducer\n\nexport function reducer(state: State, action: Action): State {\n    switch (action.type) {\n        case ActionTypes.GET_SITE_CONTENT:\n            return { ...state, siteContent: action.payload };\n        case ActionTypes.SET_TARGET:\n            return { ...state, targetPage: action.payload };\n        case ActionTypes.SET_PAGE:\n            return { ...state, selectedPage: action.payload };\n        case ActionTypes.SET_PROJECT_ID:\n            return { ...state, selectedProjectId: action.payload };\n        default:\n            return state;\n    }\n}\n\n\n// actions\n\nfunction getSiteContent(): Promise<Action> {\n    return new Promise(resolve => {\n        apiService.getSiteContent()\n            .then(siteContent => {\n                applyStylesFromConfig(siteContent.config);\n                resolve({ type: ActionTypes.GET_SITE_CONTENT, payload: siteContent });\n            });\n    });\n}\n\nfunction setTarget(target: Page): Action {\n    return { type: ActionTypes.SET_TARGET, payload: target };\n}\n\nfunction setPage(page: Page): Action {\n    return { type: ActionTypes.SET_PAGE, payload: page };\n}\n\nfunction setProjectId(projectId: string): Action {\n    return { type: ActionTypes.SET_PROJECT_ID, payload: projectId };\n}\n\nexport const actions: Actions = {\n    getSiteContent,\n    setTarget,\n    setPage,\n    setProjectId\n};\n","import { State, Reducer } from '../../store';\nimport { Dispatch, useMemo, useReducer } from 'react';\n\nexport type AsyncDispatch<T> = Dispatch<T | Promise<T>>\n\nfunction wrapAsync<T>(dispatch: Dispatch<T>): AsyncDispatch<T> {\n    return (action: T | Promise<T>) => {\n        if (action instanceof Promise) {\n            return action.then(dispatch);\n        }\n        return dispatch(action);\n    };\n}\n\nfunction useAsyncReducer(reducer: Reducer, initState: State) {\n    const [ state, dispatch ] = useReducer(reducer, initState);\n    const asyncDispatch = useMemo(() => wrapAsync(dispatch), [ dispatch] );\n\n    return { state, asyncDispatch };\n}\n\nexport default useAsyncReducer;\n","import styles from './Navigation.module.css';\n\ntype NavigationProps = {\n    children: JSX.Element | Array<JSX.Element>\n};\n\nfunction Navigation({ children }: NavigationProps): JSX.Element {\n    return (\n        <div className={styles.Navigation}>\n            {children}\n        </div>\n    );\n}\n\nexport default Navigation;","import styles from './Curtain.module.css';\n\ntype CurtainProps = {\n    open: boolean;\n    onOpen?: () => void;\n    onClose?: () => void;\n};\n\n\nfunction Curtain({ open, onOpen, onClose }: CurtainProps): JSX.Element {\n    return (\n        <>\n            <div\n                className={`${styles.Curtain} ${styles.left}`}\n                style={{ [open ? 'transform' : '']: 'translateX(0)' }}\n            />\n            <div\n                className={`${styles.Curtain} ${styles.right}`}\n                style={{ [open ? 'transform' : '']: 'translateX(0)' }}\n                onTransitionEnd={() => {\n                    if (open) {\n                        if (typeof onOpen !== 'function') {\n                            return;\n                        }\n                        onOpen();\n                    } else {\n                        if (typeof onClose !== 'function') {\n                            return;\n                        }\n                        onClose();\n                    }\n                }}\n            />\n        </>\n    );\n}\n\nexport default Curtain;","import styles from './Logo.module.css';\n\ntype LogoProps = {\n    children: JSX.Element;\n};\n\n\nfunction Logo({ children }: LogoProps): JSX.Element {\n    return (\n        <div className={styles.Logo}>\n            {children}\n        </div>\n    );\n}\n\nexport default Logo;","import styles from './Button.module.css';\n\ntype ButtonProps = {\n    label: string;\n    className?: string;\n    active?: boolean;\n    disabled?: boolean;\n    cta?: () => void;\n};\n\n\nfunction Button({ label, className, disabled, active, cta }: ButtonProps): JSX.Element {\n    const classNames = [ styles.Button ];\n    if (className) {\n        classNames.push(className);\n    }\n    if (active) {\n        classNames.push(styles.active);\n    }\n    if (disabled) {\n        classNames.push(styles.disabled);\n    }\n    return (\n        <button\n            className={classNames.join(' ')}\n            onClick={() => {\n                if (disabled || typeof cta !== 'function') {\n                    return;\n                }\n                cta();\n            }}\n        >\n            {label}\n        </button>\n    );\n}\n\nexport default Button;","import { ParsedImage } from '../../lib/apiService/parser';\nimport { useRef, useState, useEffect } from 'react';\nimport styles from './Image.module.css';\nimport { apiService } from '../../lib/apiService/apiService';\n\ninterface ImageProps extends ParsedImage {\n    width: number;\n    ratio: number;\n}\n\nconst imageLoadingTimeout = 5;\n\n\nfunction Image({ width, ratio, id, title, file }: ImageProps): JSX.Element {\n    const height = Math.round(width / ratio);\n\n    const imageRef = useRef(null);\n\n    const [ src, setSrc ] = useState('');\n    const [ loaded, setLoaded ] = useState(false);\n\n    useEffect(() => {\n        apiService.getImageUrl({ id, width, height })\n            .then(imageUrl => setSrc(imageUrl))\n            .catch(err => {\n                console.warn('no image url', err);\n                setSrc(file.url);\n            });\n        const timeoutId = setTimeout(() => setLoaded(true), imageLoadingTimeout * 1000);\n        return () => clearTimeout(timeoutId);\n    }, [ id, width, height, file.url ]);\n\n    return (\n        <div\n            className={styles.ImageBox}\n            style={{\n                width: `${width}px`,\n                height: `${height}px`,\n                opacity: loaded ? 1 : 0\n            }}\n        >\n            {src && (\n                <img\n                    className={styles.Image}\n                    ref={imageRef}\n                    src={src}\n                    alt={title}\n                    onLoad={() => setLoaded(true)}\n                    onError={() => setSrc(file.url)}\n                />\n            )}\n        </div>\n    );\n}\n\nexport default Image;","import { Project, Config } from '../../../lib/apiService/parser';\nimport styles from './ProjectsItem.module.css';\nimport { getStyleVariable, numberFromPx } from '../../../lib/helpers';\nimport Image from '../../Image/Image';\n\ntype ProjectsItemProps = {\n    item: Project;\n    config: Config;\n    callback: () => void;\n    fixedWidth?: number;\n};\n\n\nfunction ProjectsItem({ item, config, callback, fixedWidth }: ProjectsItemProps): JSX.Element {\n    if (!item.thumbnail) {\n        return (\n            <div className={styles.ProjectsItem}>no thumbnail</div>\n        );\n    }\n\n    let imageSize = config?.imageSize || numberFromPx(getStyleVariable('--default-content-width'));\n    let ratio = config?.ratio || numberFromPx(getStyleVariable('--default-image-ratio'));\n\n    let width = 0;\n\n    if (item.thumbnail.file.width < item.thumbnail.file.height) {\n        ratio = 1 / ratio;\n    }\n\n    if (fixedWidth) {\n        width = fixedWidth;\n    } else {\n        width = Math.round(Math.min(imageSize, (window.innerWidth / 2)));\n        if (ratio < 1) {\n            width = Math.round(width * ratio);\n        }\n    }\n\n    return (\n        <div\n            className={styles.ProjectsItem}\n            title={item.title}\n            onClick={() => callback()}\n        >\n            <Image\n                width={width}\n                ratio={ratio}\n                {...item.thumbnail}\n            />\n        </div>\n    );\n}\n\nexport default ProjectsItem;","import { Project, Config } from '../../lib/apiService/parser';\nimport styles from './Projects.module.css';\nimport { getStyleVariable, isMobile, isPortrait, numberFromPx } from '../../lib/helpers';\nimport ProjectsItem from './ProjectsItem/ProjectsItem';\n\ntype ProjectsProps = {\n    items: Array<Project>;\n    config: Config;\n    setProjectId: (projectId: string) => void;\n};\n\n\nfunction Projects({ items, config, setProjectId }: ProjectsProps): JSX.Element {\n    let fixedWidth = 0;\n\n    if (isMobile() && isPortrait()) {\n        fixedWidth = window.innerWidth - (2 * numberFromPx(getStyleVariable('--padding-medium')));\n    }\n\n    return (\n        <div className={styles.Projects}>\n            <div className={styles.centerLine} />\n            {items.map((item, index) => (\n                <ProjectsItem\n                    key={index}\n                    item={item}\n                    config={config}\n                    callback={() => setProjectId(item.id)}\n                    fixedWidth={fixedWidth}\n                />\n            ))}\n        </div>\n    );\n}\n\nexport default Projects;","import { EntryFields } from 'contentful';\nimport { documentToReactComponents } from '@contentful/rich-text-react-renderer';\nimport styles from './RichText.module.css';\n\nconst Sizes = {\n    M: 'm',\n    S: 's'\n};\n\nconst Size = Object.values(Sizes);\n\ntype RichTextProps = {\n    entry: EntryFields.RichText;\n    size: typeof Size[number];\n};\n\nconst sizeClass = {\n    [Sizes.M]: styles.mediumSize,\n    [Sizes.S]: styles.smallSize\n};\n\nfunction renderRichText(entry: EntryFields.RichText) {\n    // @ts-ignore\n    return documentToReactComponents(entry);\n}\n\n\nfunction RichText({ entry, size }: RichTextProps): JSX.Element {\n    return (\n        <div className={`${styles.RichText} ${sizeClass[size]}`}>\n            {renderRichText(entry)}\n        </div>\n    );\n}\n\nexport default RichText;","import { InfoBlock } from '../../../lib/apiService/parser';\nimport styles from './InfoItem.module.css';\nimport Image from '../../Image/Image';\nimport RichText from '../../RichText/RichText';\nimport { getStyleVariable, numberFromPx } from '../../../lib/helpers';\n\ntype InfoItemProps = {\n    item: InfoBlock;\n    width: number;\n};\n\n\nfunction InfoItem({ item, width }: InfoItemProps): JSX.Element {\n    return (\n        <div\n            className={styles.InfoItem}\n            style={{ width: `${width}px` }}\n        >\n            {!!item.images.length && (\n                <Image width={width - (2 * numberFromPx(getStyleVariable('--padding-large')))} ratio={1.6} {...item.images[0]} />\n            )}\n            {item.text && (\n                <RichText entry={item.text} size=\"m\" />\n            )}\n        </div>\n    );\n}\n\nexport default InfoItem;","import { useState, useEffect } from 'react';\nimport { InfoBlock, Config } from '../../lib/apiService/parser';\nimport styles from './Info.module.css';\nimport cx from 'classnames';\nimport { isMobile, isPortrait, getStyleVariable, numberFromPx } from '../../lib/helpers';\n\nimport InfoItem from './InfoItem/InfoItem';\n\ntype InfoProps = {\n    items: Array<InfoBlock>;\n    config: Config;\n    open: boolean;\n    onOpen?: () => void;\n    onClose?: () => void;\n};\n\n\nfunction Info({ items, config, open, onOpen, onClose }: InfoProps): JSX.Element {\n    const [ isTransitioning, setIsTransitioning ] = useState(false);\n\n    useEffect(() => setIsTransitioning(true), [ open ]);\n\n    let width = Math.round(Math.min(\n        (config?.imageSize || numberFromPx(getStyleVariable('--default-content-width'))),\n        (window.innerWidth / 2))\n    );\n\n    if (isMobile() && isPortrait()) {\n        width = window.innerWidth - (2 * numberFromPx(getStyleVariable('--padding-medium')));\n    }\n\n    return (\n        <div\n            className={styles.Info}\n            style={{ width: `${width}px` }}\n        >\n            <div\n                className={cx(styles.infoCurtain, {\n                    [styles.isTransitioning]: isTransitioning,\n                    [styles.isOpen]: open,\n                    [styles.isClosed]: !open\n                })}\n                onAnimationEnd={() => {\n                    setIsTransitioning(false);\n                    if (open) {\n                        if (typeof onOpen !== 'function') {\n                            return;\n                        }\n                        onOpen();\n                    } else {\n                        if (typeof onClose !== 'function') {\n                            return;\n                        }\n                        onClose();\n                    }\n                }}\n            >\n                {items.map((item, index) => (\n                    <InfoItem\n                        key={index}\n                        item={item}\n                        width={width}\n                    />\n                ))}\n            </div>\n        </div>\n    );\n}\n\nexport default Info;","import { Page } from '../../store';\nimport styles from './PageBox.module.css';\nimport cx from 'classnames';\n\ntype PageBoxProps = {\n    page: Page;\n    target: Page;\n    selected: Page;\n    children: JSX.Element;\n};\n\nlet prevSelected: Page | string = '';\n\n\nfunction PageBox({ page, target, selected, children }: PageBoxProps): JSX.Element {\n    if (prevSelected !== selected) {\n        window.scroll(0, 0);\n        prevSelected = selected;\n    }\n\n    return (\n        <div\n            className={cx(styles.PageBox, {\n                [styles.isTarget]: page === target,\n                [styles.isSelected]: page === selected\n            })}\n        >\n            {children}\n        </div>\n    );\n}\n\nexport default PageBox;","import { useEffect } from 'react';\nimport styles from './App.module.css';\nimport { Pages, initState, reducer, actions } from './store/store';\nimport useAsyncReducer from './lib/hooks/useAsyncReducer';\n\nimport Navigation from './components/Navigation/Navigation';\nimport Curtain from './components/Curtain/Curtain';\nimport Logo from './components/Logo/Logo';\nimport Button from './components/Button/Button';\nimport Projects from './components/Projects/Projects';\nimport Info from './components/Info/Info';\nimport PageBox from './components/PageBox/PageBox';\n\n\nfunction App(): JSX.Element {\n    const { state, asyncDispatch } = useAsyncReducer(reducer, initState);\n    const { siteContent, targetPage, selectedPage, selectedProjectId } = state;\n\n    useEffect(() => {\n        asyncDispatch(actions.getSiteContent()); // TODO refresh\n    }, [ asyncDispatch ]);\n\n    console.log('app render state', state);// TODO remove dev code\n\n    return (\n        <div className={selectedPage === Pages.HOME ? styles.isHome : ''}>\n            <Curtain\n                open={targetPage !== Pages.HOME}\n                onOpen={() => asyncDispatch(actions.setPage(targetPage))}\n                onClose={() => asyncDispatch(actions.setPage(Pages.HOME))}\n            />\n            <Logo>\n                <Button\n                    label={siteContent.config ? siteContent.config.documentTitle : 'Studio Anderhalden'}\n                    cta={() => asyncDispatch(actions.setTarget(Pages.HOME))}\n                />\n            </Logo>\n            <Navigation>\n                <Button\n                    label=\"Grafik\"\n                    active={targetPage === Pages.PROJECTS}\n                    disabled={!siteContent.projects.length}\n                    cta={() => asyncDispatch(actions.setTarget(Pages.PROJECTS))}\n                />\n                <Button\n                    label=\"Kontakt + Info\"\n                    active={targetPage === Pages.INFO}\n                    disabled={!siteContent.infoBlocks.length}\n                    cta={() => asyncDispatch(actions.setTarget(Pages.INFO))}\n                />\n            </Navigation>\n            <PageBox page={Pages.PROJECTS} target={targetPage} selected={selectedPage}>\n                <Projects\n                    items={siteContent.projects}\n                    config={siteContent.config}\n                    setProjectId={projectId => asyncDispatch(actions.setProjectId(projectId))}\n                />\n            </PageBox>\n            <PageBox page={Pages.INFO} target={targetPage} selected={selectedPage}>\n                <Info\n                    items={siteContent.infoBlocks}\n                    config={siteContent.config}\n                    open={targetPage === Pages.INFO}\n                    onOpen={() => asyncDispatch(actions.setPage(Pages.INFO))}\n                    onClose={() => asyncDispatch(actions.setPage(targetPage))}\n                />\n            </PageBox>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n    <React.StrictMode>\n        <App/>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"RichText\":\"RichText_RichText__1BywL\",\"mediumSize\":\"RichText_mediumSize__1Xnal\",\"smallSize\":\"RichText_smallSize__BL3Kk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PageBox\":\"PageBox_PageBox__CpPMT\",\"isTarget\":\"PageBox_isTarget__fESuA\",\"isSelected\":\"PageBox_isSelected__ls1KE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Projects\":\"Projects_Projects__1ECks\",\"centerLine\":\"Projects_centerLine__39BzK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProjectsItem\":\"ProjectsItem_ProjectsItem__ixgAC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageBox\":\"Image_ImageBox__16ZVW\",\"Image\":\"Image_Image__1br15\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__16ZpL\",\"isHome\":\"App_isHome__oTROn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navigation\":\"Navigation_Navigation__1tTPb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Logo\":\"Logo_Logo__1N0xH\",\"wiggle\":\"Logo_wiggle__23iAG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"InfoItem\":\"InfoItem_InfoItem__26gzv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Info\":\"Info_Info__3WoRg\",\"infoCurtain\":\"Info_infoCurtain__17dII\",\"isTransitioning\":\"Info_isTransitioning__1fRnE\",\"isClosed\":\"Info_isClosed__30Tas\",\"close\":\"Info_close__3kAyz\",\"isOpen\":\"Info_isOpen__3spwN\",\"open\":\"Info_open__SO0W7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Curtain\":\"Curtain_Curtain__23SsW\",\"left\":\"Curtain_left__3IErm\",\"right\":\"Curtain_right__Zgczi\"};"],"sourceRoot":""}